[{"filePath":"D:\\Pebric\\apps\\web\\double-check-db.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\postcss.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\BackInStockAlert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\BestSellers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\CompareBar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\DeliverySlotSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ErrorBoundary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\FeaturedCollections.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\FitFeedbackForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\GDPRSettings.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\GiftWrapOption.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\Header.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\HeroSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\InstagramFeed.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\InvoiceDownload.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\LiveChatWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\MatchingOutfits.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\NavLink.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\Newsletter.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\OccasionSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\PaymentMethodSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\PersonalizedRecommendations.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ProductCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ProductFabricInfo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ProductReviews.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\PromoBanner.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'banner.end_date'. Either include it or remove the dependency array.","line":57,"column":6,"nodeType":"ArrayExpression","endLine":57,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [banner.end_date]","fix":{"range":[1758,1760],"text":"[banner.end_date]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button } from \"@/components/ui/button\";\nimport { useScrollAnimation } from \"@/hooks/useScrollAnimation\";\nimport { usePromoBanners } from \"@/hooks/usePromoBanners\";\n\nexport function PromoBanner() {\n  const navigate = useNavigate();\n  const { ref, isVisible } = useScrollAnimation();\n  const { data: dbBanners, isLoading } = usePromoBanners();\n  const [timeLeft, setTimeLeft] = useState({\n    days: 0,\n    hours: 0,\n    minutes: 0,\n    seconds: 0,\n  });\n\n  // Hardcoded banner for immediate revert\n  const banner = {\n    badge_text: \"Limited Time Offer\",\n    headline: \"Spring Sale is Live\",\n    subheadline: \"Get 20% off all new arrivals with code SPRING20\",\n    end_date: new Date(Date.now() + 86400000).toISOString(), // 24 hours from now\n    background_color: \"#f3f4f6\",\n    text_color: \"#1f2937\",\n    cta_text: \"Shop Now\",\n    cta_link: \"/shop\"\n  };\n\n  useEffect(() => {\n    const calculateTimeLeft = () => {\n      const endDate = new Date(banner.end_date).getTime();\n      const now = new Date().getTime();\n      const difference = endDate - now;\n\n      if (difference <= 0) {\n        return { days: 0, hours: 0, minutes: 0, seconds: 0 };\n      }\n\n      return {\n        days: Math.floor(difference / (1000 * 60 * 60 * 24)),\n        hours: Math.floor((difference / (1000 * 60 * 60)) % 24),\n        minutes: Math.floor((difference / 1000 / 60) % 60),\n        seconds: Math.floor((difference / 1000) % 60),\n      };\n    };\n\n    // Initial calculation\n    setTimeLeft(calculateTimeLeft());\n\n    // Update every second\n    const timer = setInterval(() => {\n      setTimeLeft(calculateTimeLeft());\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  return (\n    <section \n      className=\"py-16 md:py-20 overflow-hidden\"\n      style={{ \n        backgroundColor: banner.background_color,\n        color: banner.text_color\n      }}\n    >\n      <div className=\"container mx-auto px-6\">\n        <div \n          ref={ref}\n          className={`flex flex-col items-center text-center transition-all duration-700 ${\n            isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-12'\n          }`}\n        >\n          {/* Badge */}\n          <span \n            className=\"mb-6 inline-block border px-4 py-1.5 font-body text-[10px] uppercase tracking-[0.3em] animate-pulse\"\n            style={{\n              borderColor: `${banner.text_color}30`,\n              color: `${banner.text_color}70`\n            }}\n          >\n            {banner.badge_text}\n          </span>\n\n          {/* Headline */}\n          <h2 className=\"mb-4 font-display text-4xl font-medium tracking-tight md:text-6xl\">\n            {banner.headline}\n          </h2>\n          {banner.subheadline && (\n            <p className=\"mb-10 font-display text-xl md:text-2xl opacity-80\">\n              {banner.subheadline}\n            </p>\n          )}\n\n          {/* Countdown Timer */}\n          <div className=\"mb-10 flex gap-4 md:gap-8\">\n            <TimeUnit value={timeLeft.days} label=\"Days\" index={0} isVisible={isVisible} color={banner.text_color} bgColor={banner.background_color} />\n            <TimeUnit value={timeLeft.hours} label=\"Hours\" index={1} isVisible={isVisible} color={banner.text_color} bgColor={banner.background_color} />\n            <TimeUnit value={timeLeft.minutes} label=\"Minutes\" index={2} isVisible={isVisible} color={banner.text_color} bgColor={banner.background_color} />\n            <TimeUnit value={timeLeft.seconds} label=\"Seconds\" index={3} isVisible={isVisible} color={banner.text_color} bgColor={banner.background_color} />\n          </div>\n\n          {/* CTA */}\n          {banner.cta_text && banner.cta_link && (\n            <Button \n              variant=\"hero-outline\" \n              style={{\n                borderColor: banner.text_color,\n                color: banner.text_color\n              }}\n              className=\"hover:opacity-90\"\n              onClick={() => navigate(banner.cta_link)}\n            >\n              {banner.cta_text}\n            </Button>\n          )}\n        </div>\n      </div>\n    </section>\n  );\n}\n\nfunction TimeUnit({ value, label, index, isVisible, color, bgColor }: { \n  value: number; \n  label: string; \n  index: number; \n  isVisible: boolean;\n  color: string;\n  bgColor: string;\n}) {\n  return (\n    <div \n      className={`flex flex-col items-center transition-all duration-700 ${\n        isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'\n      }`}\n      style={{ transitionDelay: `${index * 100 + 200}ms` }}\n    >\n      <div \n        className=\"mb-2 flex h-16 w-16 items-center justify-center md:h-20 md:w-20 transition-all duration-300 hover:scale-105\"\n        style={{ backgroundColor: `${color}10` }}\n      >\n        <span \n          className=\"font-display text-2xl font-medium md:text-4xl transition-transform duration-300\"\n          style={{ color }}\n        >\n          {value.toString().padStart(2, \"0\")}\n        </span>\n      </div>\n      <span \n        className=\"font-body text-[10px] uppercase tracking-[0.2em] opacity-60\"\n        style={{ color }}\n      >\n        {label}\n      </span>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\PushNotificationSettings.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\RecentlyViewed.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\RefundTracker.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ReorderButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ReturnRequestForm.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\SatisfactionRating.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\SavedAddressSelector.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":189,"column":12,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":189,"endColumn":15,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6281,6284],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6281,6284],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":190,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":190,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6308,6311],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6308,6311],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { useSavedAddresses, useCreateSavedAddress, useDeleteSavedAddress, SavedAddress } from \"@/hooks/useSavedAddresses\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { Plus, MapPin, Trash2, Check } from \"lucide-react\";\n\ninterface SavedAddressSelectorProps {\n  onAddressSelect: (address: {\n    firstName: string;\n    lastName: string;\n    address: string;\n    city: string;\n    postalCode: string;\n    country: string;\n    phone: string;\n  }) => void;\n}\n\nexport function SavedAddressSelector({ onAddressSelect }: SavedAddressSelectorProps) {\n  const { user } = useAuth();\n  const { data: addresses = [] } = useSavedAddresses();\n  const createAddress = useCreateSavedAddress();\n  const deleteAddress = useDeleteSavedAddress();\n  \n  const [selectedId, setSelectedId] = useState<string>(\"\");\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [newAddress, setNewAddress] = useState({\n    label: \"Home\",\n    full_name: \"\",\n    phone: \"\",\n    address_line1: \"\",\n    address_line2: \"\",\n    city: \"\",\n    state: \"\",\n    postal_code: \"\",\n    country: \"India\",\n    is_default: false,\n  });\n\n  if (!user) return null;\n\n  const handleSelectAddress = (addressId: string) => {\n    setSelectedId(addressId);\n    const address = addresses.find((a) => a.id === addressId);\n    if (address) {\n      const nameParts = address.full_name.split(\" \");\n      onAddressSelect({\n        firstName: nameParts[0] || \"\",\n        lastName: nameParts.slice(1).join(\" \") || \"\",\n        address: [address.address_line1, address.address_line2].filter(Boolean).join(\", \"),\n        city: address.city,\n        postalCode: address.postal_code,\n        country: address.country,\n        phone: address.phone || \"\",\n      });\n    }\n  };\n\n  const handleAddAddress = async () => {\n    await createAddress.mutateAsync(newAddress);\n    setShowAddForm(false);\n    setNewAddress({\n      label: \"Home\",\n      full_name: \"\",\n      phone: \"\",\n      address_line1: \"\",\n      address_line2: \"\",\n      city: \"\",\n      state: \"\",\n      postal_code: \"\",\n      country: \"India\",\n      is_default: false,\n    });\n  };\n\n  if (addresses.length === 0) {\n    return (\n      <div className=\"rounded-lg border border-dashed border-border p-4\">\n        <p className=\"text-sm text-muted-foreground mb-3\">\n          Save your address for faster checkout next time\n        </p>\n        <Dialog open={showAddForm} onOpenChange={setShowAddForm}>\n          <DialogTrigger asChild>\n            <Button variant=\"outline\" size=\"sm\">\n              <Plus className=\"mr-2 h-4 w-4\" />\n              Add Address\n            </Button>\n          </DialogTrigger>\n          <DialogContent>\n            <DialogHeader>\n              <DialogTitle>Add New Address</DialogTitle>\n            </DialogHeader>\n            <AddressForm\n              address={newAddress}\n              onChange={setNewAddress}\n              onSubmit={handleAddAddress}\n              isLoading={createAddress.isPending}\n            />\n          </DialogContent>\n        </Dialog>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <Label className=\"text-sm font-medium\">Saved Addresses</Label>\n        <Dialog open={showAddForm} onOpenChange={setShowAddForm}>\n          <DialogTrigger asChild>\n            <Button variant=\"ghost\" size=\"sm\">\n              <Plus className=\"mr-1 h-4 w-4\" />\n              Add New\n            </Button>\n          </DialogTrigger>\n          <DialogContent>\n            <DialogHeader>\n              <DialogTitle>Add New Address</DialogTitle>\n            </DialogHeader>\n            <AddressForm\n              address={newAddress}\n              onChange={setNewAddress}\n              onSubmit={handleAddAddress}\n              isLoading={createAddress.isPending}\n            />\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      <RadioGroup value={selectedId} onValueChange={handleSelectAddress}>\n        <div className=\"space-y-2\">\n          {addresses.map((address) => (\n            <div\n              key={address.id}\n              className={`relative rounded-lg border p-4 ${\n                selectedId === address.id ? \"border-primary\" : \"border-border\"\n              }`}\n            >\n              <div className=\"flex items-start gap-3\">\n                <RadioGroupItem value={address.id} id={address.id} className=\"mt-1\" />\n                <Label htmlFor={address.id} className=\"flex-1 cursor-pointer\">\n                  <div className=\"flex items-center gap-2\">\n                    <MapPin className=\"h-4 w-4\" />\n                    <span className=\"font-medium\">{address.label}</span>\n                    {address.is_default && (\n                      <span className=\"text-xs bg-primary/10 text-primary px-2 py-0.5 rounded\">\n                        Default\n                      </span>\n                    )}\n                  </div>\n                  <p className=\"mt-1 text-sm text-muted-foreground\">\n                    {address.full_name}\n                  </p>\n                  <p className=\"text-sm text-muted-foreground\">\n                    {address.address_line1}\n                    {address.address_line2 && `, ${address.address_line2}`}\n                  </p>\n                  <p className=\"text-sm text-muted-foreground\">\n                    {address.city}, {address.postal_code}, {address.country}\n                  </p>\n                </Label>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-8 w-8\"\n                  onClick={() => deleteAddress.mutate(address.id)}\n                >\n                  <Trash2 className=\"h-4 w-4 text-muted-foreground\" />\n                </Button>\n              </div>\n            </div>\n          ))}\n        </div>\n      </RadioGroup>\n    </div>\n  );\n}\n\nfunction AddressForm({\n  address,\n  onChange,\n  onSubmit,\n  isLoading,\n}: {\n  address: any;\n  onChange: (address: any) => void;\n  onSubmit: () => void;\n  isLoading: boolean;\n}) {\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <Label>Label</Label>\n          <Input\n            value={address.label}\n            onChange={(e) => onChange({ ...address, label: e.target.value })}\n            placeholder=\"Home, Work, etc.\"\n          />\n        </div>\n        <div>\n          <Label>Full Name</Label>\n          <Input\n            value={address.full_name}\n            onChange={(e) => onChange({ ...address, full_name: e.target.value })}\n            placeholder=\"John Doe\"\n          />\n        </div>\n      </div>\n      <div>\n        <Label>Phone</Label>\n        <Input\n          value={address.phone}\n          onChange={(e) => onChange({ ...address, phone: e.target.value })}\n          placeholder=\"+91 98765 43210\"\n        />\n      </div>\n      <div>\n        <Label>Address Line 1</Label>\n        <Input\n          value={address.address_line1}\n          onChange={(e) => onChange({ ...address, address_line1: e.target.value })}\n          placeholder=\"Street address\"\n        />\n      </div>\n      <div>\n        <Label>Address Line 2 (Optional)</Label>\n        <Input\n          value={address.address_line2}\n          onChange={(e) => onChange({ ...address, address_line2: e.target.value })}\n          placeholder=\"Apartment, suite, etc.\"\n        />\n      </div>\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <Label>City</Label>\n          <Input\n            value={address.city}\n            onChange={(e) => onChange({ ...address, city: e.target.value })}\n          />\n        </div>\n        <div>\n          <Label>Postal Code</Label>\n          <Input\n            value={address.postal_code}\n            onChange={(e) => onChange({ ...address, postal_code: e.target.value })}\n          />\n        </div>\n      </div>\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div>\n          <Label>State</Label>\n          <Input\n            value={address.state}\n            onChange={(e) => onChange({ ...address, state: e.target.value })}\n          />\n        </div>\n        <div>\n          <Label>Country</Label>\n          <Input\n            value={address.country}\n            onChange={(e) => onChange({ ...address, country: e.target.value })}\n          />\n        </div>\n      </div>\n      <Button onClick={onSubmit} disabled={isLoading} className=\"w-full\">\n        {isLoading ? \"Saving...\" : \"Save Address\"}\n      </Button>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ScrollToTop.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\SizeRecommendation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\SmartSearch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\SubscribeButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\Testimonials.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\TrustBadges.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\TryOnPreview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\WeatherBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\WhyChooseUs.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":8,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":8,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[280,283],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[280,283],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { \n  Sparkles, Heart, RefreshCw, Truck, Shield, Star, \n  Award, Check, Gift, Zap, Target, TrendingUp \n} from \"lucide-react\";\nimport { useScrollAnimation } from \"@/hooks/useScrollAnimation\";\nimport { useFeatures } from \"@/hooks/useFeatures\";\n\nconst ICON_MAP: Record<string, any> = {\n  Sparkles, Heart, RefreshCw, Truck, Shield, Star,\n  Award, Check, Gift, Zap, Target, TrendingUp\n};\n\nconst DEFAULT_FEATURES = [\n  {\n    icon_name: \"Sparkles\",\n    title: \"Premium Fabrics\",\n    description: \"Carefully selected materials for maximum comfort and durability for both you and your pet.\",\n  },\n  {\n    icon_name: \"Heart\",\n    title: \"Pet-First Design\",\n    description: \"Every piece is designed with your pet's comfort and freedom of movement in mind.\",\n  },\n  {\n    icon_name: \"RefreshCw\",\n    title: \"Perfect Twinning Fit\",\n    description: \"Our sizing system ensures you and your pet match perfectly, every single time.\",\n  },\n  {\n    icon_name: \"Truck\",\n    title: \"Easy Returns\",\n    description: \"30-day hassle-free returns. If it doesn't fit, we'll make it right.\",\n  },\n];\n\nexport function WhyChooseUs() {\n  const { ref: headerRef, isVisible: headerVisible } = useScrollAnimation();\n  const { ref: gridRef, isVisible: gridVisible } = useScrollAnimation({ threshold: 0.1 });\n  const { data: dbFeatures, isLoading } = useFeatures();\n\n  // Use database features if available, otherwise fallback\n  const features = DEFAULT_FEATURES;\n\n  return (\n    <section className=\"bg-background py-24 md:py-32\">\n      <div className=\"container mx-auto px-6\">\n        {/* Section Header */}\n        <div \n          ref={headerRef}\n          className={`mb-16 text-center transition-all duration-700 ${\n            headerVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'\n          }`}\n        >\n          <p className=\"mb-3 font-body text-xs uppercase tracking-[0.3em] text-muted-foreground\">\n            The Difference\n          </p>\n          <h2 className=\"mx-auto max-w-2xl font-display text-4xl font-medium tracking-tight text-foreground md:text-5xl\">\n            Why Pet Parents Choose Us\n          </h2>\n        </div>\n\n        {/* Features Grid */}\n        <div ref={gridRef} className=\"grid gap-12 md:grid-cols-2 lg:grid-cols-4\">\n          {features.map((feature, index) => {\n            const IconComponent = ICON_MAP[feature.icon_name] || Sparkles;\n            \n            return (\n              <div\n                key={feature.title}\n                className={`group text-center transition-all duration-700 ${\n                  gridVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-12'\n                }`}\n                style={{ transitionDelay: `${index * 100}ms` }}\n              >\n                {/* Icon */}\n                <div className=\"mx-auto mb-6 flex h-16 w-16 items-center justify-center border border-border transition-all duration-500 group-hover:border-foreground group-hover:bg-foreground group-hover:scale-110 group-hover:rotate-3\">\n                  <IconComponent className=\"h-6 w-6 text-foreground transition-all duration-500 group-hover:text-background group-hover:scale-110\" />\n                </div>\n\n                {/* Content */}\n                <h3 className=\"mb-3 font-display text-xl font-medium text-foreground transition-transform duration-300 group-hover:-translate-y-1\">\n                  {feature.title}\n                </h3>\n                <p className=\"font-body text-sm leading-relaxed text-muted-foreground transition-all duration-300 group-hover:text-foreground/70\">\n                  {feature.description}\n                </p>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </section>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\AbandonedCartsManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\AnalyticsDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\AuditLogsViewer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\CampaignManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\CouponsManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\CourierPanel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\CustomerLocationHeatmap.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\DeliverySLADashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\DynamicPricingManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\FeaturesManager.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":81,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":81,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2577,2580],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2577,2580],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from \"react\";\r\nimport { useAllFeatures } from \"@/hooks/useFeatures\";\r\nimport { supabase } from \"@/integrations/client\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\r\nimport { toast } from \"sonner\";\r\nimport { Plus, Pencil, Trash2, Save, ArrowUp, ArrowDown } from \"lucide-react\";\r\nimport { useQueryClient } from \"@tanstack/react-query\";\r\n\r\n// Common Lucide icons for features\r\nconst AVAILABLE_ICONS = [\r\n  \"Sparkles\", \"Heart\", \"RefreshCw\", \"Truck\", \"Shield\", \"Star\",\r\n  \"Award\", \"Check\", \"Gift\", \"Zap\", \"Target\", \"TrendingUp\"\r\n];\r\n\r\ninterface FeatureForm {\r\n  icon_name: string;\r\n  title: string;\r\n  description: string;\r\n  display_order: number;\r\n  is_active: boolean;\r\n}\r\n\r\nexport function FeaturesManager() {\r\n  const { data: features = [], isLoading } = useAllFeatures();\r\n  const queryClient = useQueryClient();\r\n  const [editingId, setEditingId] = useState<string | null>(null);\r\n  const [isAddingFeature, setIsAddingFeature] = useState(false);\r\n\r\n  const [newFeature, setNewFeature] = useState<FeatureForm>({\r\n    icon_name: \"Sparkles\",\r\n    title: \"\",\r\n    description: \"\",\r\n    display_order: features.length + 1,\r\n    is_active: true,\r\n  });\r\n\r\n  const [editForm, setEditForm] = useState<FeatureForm>({\r\n    icon_name: \"\",\r\n    title: \"\",\r\n    description: \"\",\r\n    display_order: 0,\r\n    is_active: true,\r\n  });\r\n\r\n  const handleAddFeature = async () => {\r\n    if (!newFeature.title || !newFeature.description) {\r\n      toast.error(\"Please fill in title and description\");\r\n      return;\r\n    }\r\n\r\n    const { error } = await supabase.from(\"features\").insert({\r\n      icon_name: newFeature.icon_name,\r\n      title: newFeature.title,\r\n      description: newFeature.description,\r\n      display_order: newFeature.display_order,\r\n      is_active: newFeature.is_active,\r\n    });\r\n\r\n    if (error) {\r\n      toast.error(\"Failed to add feature\");\r\n      return;\r\n    }\r\n\r\n    toast.success(\"Feature added successfully\");\r\n    queryClient.invalidateQueries({ queryKey: [\"features\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-features\"] });\r\n    setIsAddingFeature(false);\r\n    setNewFeature({\r\n      icon_name: \"Sparkles\",\r\n      title: \"\",\r\n      description: \"\",\r\n      display_order: features.length + 1,\r\n      is_active: true,\r\n    });\r\n  };\r\n\r\n  const handleEdit = (feature: any) => {\r\n    setEditingId(feature.id);\r\n    setEditForm({\r\n      icon_name: feature.icon_name,\r\n      title: feature.title,\r\n      description: feature.description,\r\n      display_order: feature.display_order,\r\n      is_active: feature.is_active,\r\n    });\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!editingId) return;\r\n\r\n    const { error } = await supabase\r\n      .from(\"features\")\r\n      .update({\r\n        icon_name: editForm.icon_name,\r\n        title: editForm.title,\r\n        description: editForm.description,\r\n        display_order: editForm.display_order,\r\n        is_active: editForm.is_active,\r\n      })\r\n      .eq(\"id\", editingId);\r\n\r\n    if (error) {\r\n      toast.error(\"Failed to update feature\");\r\n      return;\r\n    }\r\n\r\n    toast.success(\"Feature updated successfully\");\r\n    queryClient.invalidateQueries({ queryKey: [\"features\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-features\"] });\r\n    setEditingId(null);\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    if (!confirm(\"Are you sure you want to delete this feature?\")) return;\r\n\r\n    const { error } = await supabase.from(\"features\").delete().eq(\"id\", id);\r\n\r\n    if (error) {\r\n      toast.error(\"Failed to delete feature\");\r\n      return;\r\n    }\r\n\r\n    toast.success(\"Feature deleted successfully\");\r\n    queryClient.invalidateQueries({ queryKey: [\"features\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-features\"] });\r\n  };\r\n\r\n  const handleMove = async (id: string, direction: \"up\" | \"down\") => {\r\n    const currentIndex = features.findIndex((f) => f.id === id);\r\n    if (currentIndex === -1) return;\r\n\r\n    const targetIndex = direction === \"up\" ? currentIndex - 1 : currentIndex + 1;\r\n    if (targetIndex < 0 || targetIndex >= features.length) return;\r\n\r\n    const currentFeature = features[currentIndex];\r\n    const targetFeature = features[targetIndex];\r\n\r\n    await Promise.all([\r\n      supabase\r\n        .from(\"features\")\r\n        .update({ display_order: targetFeature.display_order })\r\n        .eq(\"id\", currentFeature.id),\r\n      supabase\r\n        .from(\"features\")\r\n        .update({ display_order: currentFeature.display_order })\r\n        .eq(\"id\", targetFeature.id),\r\n    ]);\r\n\r\n    toast.success(\"Feature order updated\");\r\n    queryClient.invalidateQueries({ queryKey: [\"features\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-features\"] });\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-16\">\r\n        <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold\">Features (Why Choose Us)</h2>\r\n          <p className=\"text-muted-foreground\">\r\n            Manage features displayed in the \"Why Choose Us\" section\r\n          </p>\r\n        </div>\r\n        <Dialog open={isAddingFeature} onOpenChange={setIsAddingFeature}>\r\n          <DialogTrigger asChild>\r\n            <Button>\r\n              <Plus className=\"mr-2 h-4 w-4\" />\r\n              Add Feature\r\n            </Button>\r\n          </DialogTrigger>\r\n          <DialogContent className=\"max-h-[90vh] overflow-y-auto sm:max-w-[600px]\">\r\n            <DialogHeader>\r\n              <DialogTitle>Add New Feature</DialogTitle>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4 py-4\">\r\n              <div>\r\n                <Label htmlFor=\"icon\">Icon</Label>\r\n                <select\r\n                  id=\"icon\"\r\n                  className=\"w-full rounded-md border border-input bg-background px-3 py-2 text-sm\"\r\n                  value={newFeature.icon_name}\r\n                  onChange={(e) => setNewFeature({ ...newFeature, icon_name: e.target.value })}\r\n                >\r\n                  {AVAILABLE_ICONS.map((icon) => (\r\n                    <option key={icon} value={icon}>\r\n                      {icon}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <Label htmlFor=\"title\">Title *</Label>\r\n                <Input\r\n                  id=\"title\"\r\n                  value={newFeature.title}\r\n                  onChange={(e) => setNewFeature({ ...newFeature, title: e.target.value })}\r\n                  placeholder=\"Premium Fabrics\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Label htmlFor=\"description\">Description *</Label>\r\n                <Textarea\r\n                  id=\"description\"\r\n                  value={newFeature.description}\r\n                  onChange={(e) => setNewFeature({ ...newFeature, description: e.target.value })}\r\n                  placeholder=\"Carefully selected materials for maximum comfort...\"\r\n                  rows={3}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"is_active\"\r\n                  checked={newFeature.is_active}\r\n                  onChange={(e) => setNewFeature({ ...newFeature, is_active: e.target.checked })}\r\n                />\r\n                <Label htmlFor=\"is_active\">Active</Label>\r\n              </div>\r\n\r\n              <Button onClick={handleAddFeature} className=\"w-full\">\r\n                Add Feature\r\n              </Button>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n\r\n      <div className=\"rounded-lg border border-border\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"border-b border-border bg-muted/50\">\r\n              <tr>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Icon</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Title</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Description</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Status</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Order</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {features.map((feature, index) => (\r\n                <tr key={feature.id} className=\"border-b border-border\">\r\n                  <td className=\"px-4 py-3\">\r\n                    <code className=\"text-xs bg-muted px-2 py-1 rounded\">{feature.icon_name}</code>\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">\r\n                    {editingId === feature.id ? (\r\n                      <Input\r\n                        value={editForm.title}\r\n                        onChange={(e) => setEditForm({ ...editForm, title: e.target.value })}\r\n                        className=\"w-48\"\r\n                      />\r\n                    ) : (\r\n                      <span className=\"font-medium\">{feature.title}</span>\r\n                    )}\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">\r\n                    {editingId === feature.id ? (\r\n                      <Textarea\r\n                        value={editForm.description}\r\n                        onChange={(e) => setEditForm({ ...editForm, description: e.target.value })}\r\n                        className=\"min-w-[200px]\"\r\n                        rows={2}\r\n                      />\r\n                    ) : (\r\n                      <p className=\"text-sm text-muted-foreground line-clamp-2 max-w-md\">\r\n                        {feature.description}\r\n                      </p>\r\n                    )}\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">\r\n                    {editingId === feature.id ? (\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={editForm.is_active}\r\n                        onChange={(e) => setEditForm({ ...editForm, is_active: e.target.checked })}\r\n                      />\r\n                    ) : (\r\n                      <span\r\n                        className={`inline-flex rounded-full px-2 py-1 text-xs font-medium ${\r\n                          feature.is_active\r\n                            ? \"bg-green-100 text-green-800\"\r\n                            : \"bg-red-100 text-red-800\"\r\n                        }`}\r\n                      >\r\n                        {feature.is_active ? \"Active\" : \"Inactive\"}\r\n                      </span>\r\n                    )}\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">\r\n                    <div className=\"flex items-center gap-1\">\r\n                      <Button\r\n                        size=\"sm\"\r\n                        variant=\"ghost\"\r\n                        onClick={() => handleMove(feature.id, \"up\")}\r\n                        disabled={index === 0}\r\n                      >\r\n                        <ArrowUp className=\"h-3 w-3\" />\r\n                      </Button>\r\n                      <Button\r\n                        size=\"sm\"\r\n                        variant=\"ghost\"\r\n                        onClick={() => handleMove(feature.id, \"down\")}\r\n                        disabled={index === features.length - 1}\r\n                      >\r\n                        <ArrowDown className=\"h-3 w-3\" />\r\n                      </Button>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">\r\n                    <div className=\"flex gap-2\">\r\n                      {editingId === feature.id ? (\r\n                        <>\r\n                          <Button size=\"sm\" onClick={handleSave}>\r\n                            <Save className=\"h-4 w-4\" />\r\n                          </Button>\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"outline\"\r\n                            onClick={() => setEditingId(null)}\r\n                          >\r\n                            Cancel\r\n                          </Button>\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"outline\"\r\n                            onClick={() => handleEdit(feature)}\r\n                          >\r\n                            <Pencil className=\"h-4 w-4\" />\r\n                          </Button>\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"destructive\"\r\n                            onClick={() => handleDelete(feature.id)}\r\n                          >\r\n                            <Trash2 className=\"h-4 w-4\" />\r\n                          </Button>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\FlashSalesManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\GDPRRequestsManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\GalleryManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\HeroSlidesManager.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":134,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":134,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4148,4151],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4148,4151],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef } from \"react\";\r\nimport { useAllHeroSlides } from \"@/hooks/useHeroSlides\";\r\nimport { supabase } from \"@/integrations/client\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\r\nimport { toast } from \"sonner\";\r\nimport { Plus, Pencil, Trash2, Save, Upload, X, ArrowUp, ArrowDown } from \"lucide-react\";\r\nimport { useQueryClient } from \"@tanstack/react-query\";\r\n\r\ninterface HeroSlideForm {\r\n  image_url: string;\r\n  headline: string;\r\n  subheadline: string;\r\n  cta1_text: string;\r\n  cta1_link: string;\r\n  cta2_text: string;\r\n  cta2_link: string;\r\n  display_order: number;\r\n  is_active: boolean;\r\n}\r\n\r\nexport function HeroSlidesManager() {\r\n  const { data: slides = [], isLoading } = useAllHeroSlides();\r\n  const queryClient = useQueryClient();\r\n  const [editingId, setEditingId] = useState<string | null>(null);\r\n  const [isAddingSlide, setIsAddingSlide] = useState(false);\r\n  const [uploading, setUploading] = useState(false);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const editFileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const [newSlide, setNewSlide] = useState<HeroSlideForm>({\r\n    image_url: \"\",\r\n    headline: \"\",\r\n    subheadline: \"\",\r\n    cta1_text: \"Shop Now\",\r\n    cta1_link: \"/shop\",\r\n    cta2_text: \"Explore\",\r\n    cta2_link: \"/shop\",\r\n    display_order: slides.length + 1,\r\n    is_active: true,\r\n  });\r\n\r\n  const [editForm, setEditForm] = useState<HeroSlideForm>({\r\n    image_url: \"\",\r\n    headline: \"\",\r\n    subheadline: \"\",\r\n    cta1_text: \"\",\r\n    cta1_link: \"\",\r\n    cta2_text: \"\",\r\n    cta2_link: \"\",\r\n    display_order: 0,\r\n    is_active: true,\r\n  });\r\n\r\n  const handleImageUpload = async (\r\n    e: React.ChangeEvent<HTMLInputElement>,\r\n    isEdit = false\r\n  ) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    setUploading(true);\r\n    const fileExt = file.name.split(\".\").pop();\r\n    const fileName = `hero-${Date.now()}-${Math.random().toString(36).substring(7)}.${fileExt}`;\r\n    const filePath = `products/${fileName}`;\r\n\r\n    const { error: uploadError } = await supabase.storage\r\n      .from(\"product-images\")\r\n      .upload(filePath, file);\r\n\r\n    if (uploadError) {\r\n      toast.error(\"Failed to upload image\");\r\n      setUploading(false);\r\n      return;\r\n    }\r\n\r\n    const {\r\n      data: { publicUrl },\r\n    } = supabase.storage.from(\"product-images\").getPublicUrl(filePath);\r\n\r\n    if (isEdit) {\r\n      setEditForm({ ...editForm, image_url: publicUrl });\r\n    } else {\r\n      setNewSlide({ ...newSlide, image_url: publicUrl });\r\n    }\r\n\r\n    toast.success(\"Image uploaded successfully\");\r\n    setUploading(false);\r\n  };\r\n\r\n  const handleAddSlide = async () => {\r\n    if (!newSlide.headline || !newSlide.image_url) {\r\n      toast.error(\"Please fill in headline and upload an image\");\r\n      return;\r\n    }\r\n\r\n    const { error } = await supabase.from(\"hero_slides\").insert({\r\n      image_url: newSlide.image_url,\r\n      headline: newSlide.headline,\r\n      subheadline: newSlide.subheadline || null,\r\n      cta1_text: newSlide.cta1_text || null,\r\n      cta1_link: newSlide.cta1_link || null,\r\n      cta2_text: newSlide.cta2_text || null,\r\n      cta2_link: newSlide.cta2_link || null,\r\n      display_order: newSlide.display_order,\r\n      is_active: newSlide.is_active,\r\n    });\r\n\r\n    if (error) {\r\n      toast.error(\"Failed to add slide\");\r\n      return;\r\n    }\r\n\r\n    toast.success(\"Slide added successfully\");\r\n    queryClient.invalidateQueries({ queryKey: [\"hero-slides\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-hero-slides\"] });\r\n    setIsAddingSlide(false);\r\n    setNewSlide({\r\n      image_url: \"\",\r\n      headline: \"\",\r\n      subheadline: \"\",\r\n      cta1_text: \"Shop Now\",\r\n      cta1_link: \"/shop\",\r\n      cta2_text: \"Explore\",\r\n      cta2_link: \"/shop\",\r\n      display_order: slides.length + 1,\r\n      is_active: true,\r\n    });\r\n  };\r\n\r\n  const handleEdit = (slide: any) => {\r\n    setEditingId(slide.id);\r\n    setEditForm({\r\n      image_url: slide.image_url,\r\n      headline: slide.headline,\r\n      subheadline: slide.subheadline || \"\",\r\n      cta1_text: slide.cta1_text || \"\",\r\n      cta1_link: slide.cta1_link || \"\",\r\n      cta2_text: slide.cta2_text || \"\",\r\n      cta2_link: slide.cta2_link || \"\",\r\n      display_order: slide.display_order,\r\n      is_active: slide.is_active,\r\n    });\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!editingId) return;\r\n\r\n    const { error } = await supabase\r\n      .from(\"hero_slides\")\r\n      .update({\r\n        image_url: editForm.image_url,\r\n        headline: editForm.headline,\r\n        subheadline: editForm.subheadline || null,\r\n        cta1_text: editForm.cta1_text || null,\r\n        cta1_link: editForm.cta1_link || null,\r\n        cta2_text: editForm.cta2_text || null,\r\n        cta2_link: editForm.cta2_link || null,\r\n        display_order: editForm.display_order,\r\n        is_active: editForm.is_active,\r\n      })\r\n      .eq(\"id\", editingId);\r\n\r\n    if (error) {\r\n      toast.error(\"Failed to update slide\");\r\n      return;\r\n    }\r\n\r\n    toast.success(\"Slide updated successfully\");\r\n    queryClient.invalidateQueries({ queryKey: [\"hero-slides\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-hero-slides\"] });\r\n    setEditingId(null);\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    if (!confirm(\"Are you sure you want to delete this slide?\")) return;\r\n\r\n    const { error } = await supabase.from(\"hero_slides\").delete().eq(\"id\", id);\r\n\r\n    if (error) {\r\n      toast.error(\"Failed to delete slide\");\r\n      return;\r\n    }\r\n\r\n    toast.success(\"Slide deleted successfully\");\r\n    queryClient.invalidateQueries({ queryKey: [\"hero-slides\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-hero-slides\"] });\r\n  };\r\n\r\n  const handleMoveSlide = async (id: string, direction: \"up\" | \"down\") => {\r\n    const currentIndex = slides.findIndex((s) => s.id === id);\r\n    if (currentIndex === -1) return;\r\n\r\n    const targetIndex = direction === \"up\" ? currentIndex - 1 : currentIndex + 1;\r\n    if (targetIndex < 0 || targetIndex >= slides.length) return;\r\n\r\n    const currentSlide = slides[currentIndex];\r\n    const targetSlide = slides[targetIndex];\r\n\r\n    // Swap display_order\r\n    await Promise.all([\r\n      supabase\r\n        .from(\"hero_slides\")\r\n        .update({ display_order: targetSlide.display_order })\r\n        .eq(\"id\", currentSlide.id),\r\n      supabase\r\n        .from(\"hero_slides\")\r\n        .update({ display_order: currentSlide.display_order })\r\n        .eq(\"id\", targetSlide.id),\r\n    ]);\r\n\r\n    toast.success(\"Slide order updated\");\r\n    queryClient.invalidateQueries({ queryKey: [\"hero-slides\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-hero-slides\"] });\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-16\">\r\n        <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold\">Hero Slides</h2>\r\n          <p className=\"text-muted-foreground\">\r\n            Manage the homepage hero section slides\r\n          </p>\r\n        </div>\r\n        <Dialog open={isAddingSlide} onOpenChange={setIsAddingSlide}>\r\n          <DialogTrigger asChild>\r\n            <Button>\r\n              <Plus className=\"mr-2 h-4 w-4\" />\r\n              Add Slide\r\n            </Button>\r\n          </DialogTrigger>\r\n          <DialogContent className=\"max-h-[90vh] overflow-y-auto sm:max-w-[600px]\">\r\n            <DialogHeader>\r\n              <DialogTitle>Add New Hero Slide</DialogTitle>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4 py-4\">\r\n              <div>\r\n                <Label>Hero Image *</Label>\r\n                <div className=\"mt-2 space-y-4\">\r\n                  {newSlide.image_url && (\r\n                    <div className=\"relative aspect-video overflow-hidden rounded-lg\">\r\n                      <img\r\n                        src={newSlide.image_url}\r\n                        alt=\"Preview\"\r\n                        className=\"h-full w-full object-cover\"\r\n                      />\r\n                      <button\r\n                        onClick={() => setNewSlide({ ...newSlide, image_url: \"\" })}\r\n                        className=\"absolute right-2 top-2 rounded-full bg-background p-2 hover:bg-destructive hover:text-destructive-foreground\"\r\n                      >\r\n                        <X className=\"h-4 w-4\" />\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    onClick={() => fileInputRef.current?.click()}\r\n                    disabled={uploading}\r\n                  >\r\n                    <Upload className=\"mr-2 h-4 w-4\" />\r\n                    {uploading ? \"Uploading...\" : \"Upload Image\"}\r\n                  </Button>\r\n                  <input\r\n                    ref={fileInputRef}\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    className=\"hidden\"\r\n                    onChange={(e) => handleImageUpload(e, false)}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <Label htmlFor=\"headline\">Headline *</Label>\r\n                <Input\r\n                  id=\"headline\"\r\n                  value={newSlide.headline}\r\n                  onChange={(e) =>\r\n                    setNewSlide({ ...newSlide, headline: e.target.value })\r\n                  }\r\n                  placeholder=\"Summer Collection 2024\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Label htmlFor=\"subheadline\">Subheadline</Label>\r\n                <Textarea\r\n                  id=\"subheadline\"\r\n                  value={newSlide.subheadline}\r\n                  onChange={(e) =>\r\n                    setNewSlide({ ...newSlide, subheadline: e.target.value })\r\n                  }\r\n                  placeholder=\"Breathable fabrics, effortless style...\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid gap-4 sm:grid-cols-2\">\r\n                <div>\r\n                  <Label htmlFor=\"cta1_text\">Primary CTA Text</Label>\r\n                  <Input\r\n                    id=\"cta1_text\"\r\n                    value={newSlide.cta1_text}\r\n                    onChange={(e) =>\r\n                      setNewSlide({ ...newSlide, cta1_text: e.target.value })\r\n                    }\r\n                    placeholder=\"Shop Now\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <Label htmlFor=\"cta1_link\">Primary CTA Link</Label>\r\n                  <Input\r\n                    id=\"cta1_link\"\r\n                    value={newSlide.cta1_link}\r\n                    onChange={(e) =>\r\n                      setNewSlide({ ...newSlide, cta1_link: e.target.value })\r\n                    }\r\n                    placeholder=\"/shop\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid gap-4 sm:grid-cols-2\">\r\n                <div>\r\n                  <Label htmlFor=\"cta2_text\">Secondary CTA Text</Label>\r\n                  <Input\r\n                    id=\"cta2_text\"\r\n                    value={newSlide.cta2_text}\r\n                    onChange={(e) =>\r\n                      setNewSlide({ ...newSlide, cta2_text: e.target.value })\r\n                    }\r\n                    placeholder=\"Explore\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <Label htmlFor=\"cta2_link\">Secondary CTA Link</Label>\r\n                  <Input\r\n                    id=\"cta2_link\"\r\n                    value={newSlide.cta2_link}\r\n                    onChange={(e) =>\r\n                      setNewSlide({ ...newSlide, cta2_link: e.target.value })\r\n                    }\r\n                    placeholder=\"/shop\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"is_active\"\r\n                  checked={newSlide.is_active}\r\n                  onChange={(e) =>\r\n                    setNewSlide({ ...newSlide, is_active: e.target.checked })\r\n                  }\r\n                />\r\n                <Label htmlFor=\"is_active\">Active</Label>\r\n              </div>\r\n\r\n              <Button onClick={handleAddSlide} className=\"w-full\">\r\n                Add Slide\r\n              </Button>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n\r\n      <div className=\"rounded-lg border border-border\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"border-b border-border bg-muted/50\">\r\n              <tr>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Preview</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Headline</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Status</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Order</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {slides.map((slide, index) => (\r\n                <tr key={slide.id} className=\"border-b border-border\">\r\n                  <td className=\"px-4 py-3\">\r\n                    <img\r\n                      src={slide.image_url}\r\n                      alt={slide.headline}\r\n                      className=\"h-16 w-24 rounded-lg object-cover\"\r\n                    />\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">\r\n                    {editingId === slide.id ? (\r\n                      <Input\r\n                        value={editForm.headline}\r\n                        onChange={(e) =>\r\n                          setEditForm({ ...editForm, headline: e.target.value })\r\n                        }\r\n                        className=\"w-48\"\r\n                      />\r\n                    ) : (\r\n                      <div>\r\n                        <p className=\"font-medium\">{slide.headline}</p>\r\n                        <p className=\"text-sm text-muted-foreground line-clamp-1\">\r\n                          {slide.subheadline}\r\n                        </p>\r\n                      </div>\r\n                    )}\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">\r\n                    {editingId === slide.id ? (\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={editForm.is_active}\r\n                        onChange={(e) =>\r\n                          setEditForm({ ...editForm, is_active: e.target.checked })\r\n                        }\r\n                      />\r\n                    ) : (\r\n                      <span\r\n                        className={`inline-flex rounded-full px-2 py-1 text-xs font-medium ${\r\n                          slide.is_active\r\n                            ? \"bg-green-100 text-green-800\"\r\n                            : \"bg-red-100 text-red-800\"\r\n                        }`}\r\n                      >\r\n                        {slide.is_active ? \"Active\" : \"Inactive\"}\r\n                      </span>\r\n                    )}\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">\r\n                    <div className=\"flex items-center gap-1\">\r\n                      <Button\r\n                        size=\"sm\"\r\n                        variant=\"ghost\"\r\n                        onClick={() => handleMoveSlide(slide.id, \"up\")}\r\n                        disabled={index === 0}\r\n                      >\r\n                        <ArrowUp className=\"h-3 w-3\" />\r\n                      </Button>\r\n                      <Button\r\n                        size=\"sm\"\r\n                        variant=\"ghost\"\r\n                        onClick={() => handleMoveSlide(slide.id, \"down\")}\r\n                        disabled={index === slides.length - 1}\r\n                      >\r\n                        <ArrowDown className=\"h-3 w-3\" />\r\n                      </Button>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">\r\n                    <div className=\"flex gap-2\">\r\n                      {editingId === slide.id ? (\r\n                        <>\r\n                          <Button size=\"sm\" onClick={handleSave}>\r\n                            <Save className=\"h-4 w-4\" />\r\n                          </Button>\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"outline\"\r\n                            onClick={() => setEditingId(null)}\r\n                          >\r\n                            Cancel\r\n                          </Button>\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"outline\"\r\n                            onClick={() => handleEdit(slide)}\r\n                          >\r\n                            <Pencil className=\"h-4 w-4\" />\r\n                          </Button>\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"destructive\"\r\n                            onClick={() => handleDelete(slide.id)}\r\n                          >\r\n                            <Trash2 className=\"h-4 w-4\" />\r\n                          </Button>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\ImageModerationLogs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\InfluencerManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\InstagramManager.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":115,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":115,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3667,3670],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3667,3670],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from \"react\";\r\nimport { useAllInstagramPosts } from \"@/hooks/useInstagramPosts\";\r\nimport { supabase } from \"@/integrations/client\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\r\nimport { toast } from \"sonner\";\r\nimport { Plus, Pencil, Trash2, Save, ArrowUp, ArrowDown, Upload, Heart, ExternalLink } from \"lucide-react\";\r\nimport { useQueryClient } from \"@tanstack/react-query\";\r\n\r\ninterface InstagramPostForm {\r\n  image_url: string;\r\n  caption: string;\r\n  post_url: string;\r\n  likes_count: number;\r\n  display_order: number;\r\n  is_active: boolean;\r\n}\r\n\r\nexport function InstagramManager() {\r\n  const { data: posts = [], isLoading } = useAllInstagramPosts();\r\n  const queryClient = useQueryClient();\r\n  const [editingId, setEditingId] = useState<string | null>(null);\r\n  const [isAddingPost, setIsAddingPost] = useState(false);\r\n  const [uploading, setUploading] = useState(false);\r\n\r\n  const [newPost, setNewPost] = useState<InstagramPostForm>({\r\n    image_url: \"\",\r\n    caption: \"\",\r\n    post_url: \"https://instagram.com\",\r\n    likes_count: 0,\r\n    display_order: posts.length + 1,\r\n    is_active: true,\r\n  });\r\n\r\n  const [editForm, setEditForm] = useState<InstagramPostForm>({\r\n    image_url: \"\",\r\n    caption: \"\",\r\n    post_url: \"\",\r\n    likes_count: 0,\r\n    display_order: 0,\r\n    is_active: true,\r\n  });\r\n\r\n  const handleImageUpload = async (e: React.ChangeEvent<HTMLInputElement>, isEdit = false) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    setUploading(true);\r\n    const fileExt = file.name.split('.').pop();\r\n    const fileName = `${Date.now()}-${Math.random().toString(36).substring(7)}.${fileExt}`;\r\n    const filePath = `instagram/${fileName}`;\r\n\r\n    try {\r\n      const { error: uploadError } = await supabase.storage\r\n        .from('product-images')\r\n        .upload(filePath, file);\r\n\r\n      if (uploadError) throw uploadError;\r\n\r\n      const { data: { publicUrl } } = supabase.storage\r\n        .from('product-images')\r\n        .getPublicUrl(filePath);\r\n\r\n      if (isEdit) {\r\n        setEditForm(prev => ({ ...prev, image_url: publicUrl }));\r\n      } else {\r\n        setNewPost(prev => ({ ...prev, image_url: publicUrl }));\r\n      }\r\n      toast.success(\"Image uploaded successfully\");\r\n    } catch (error) {\r\n      toast.error(\"Error uploading image\");\r\n      console.error(error);\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleAddPost = async () => {\r\n    if (!newPost.image_url) {\r\n      toast.error(\"Please upload an image\");\r\n      return;\r\n    }\r\n\r\n    const { error } = await supabase.from(\"instagram_posts\").insert({\r\n      image_url: newPost.image_url,\r\n      caption: newPost.caption || null,\r\n      post_url: newPost.post_url,\r\n      likes_count: newPost.likes_count,\r\n      display_order: newPost.display_order,\r\n      is_active: newPost.is_active,\r\n    });\r\n\r\n    if (error) {\r\n      toast.error(\"Failed to add post\");\r\n      return;\r\n    }\r\n\r\n    toast.success(\"Post added successfully\");\r\n    queryClient.invalidateQueries({ queryKey: [\"instagram-posts\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-instagram-posts\"] });\r\n    setIsAddingPost(false);\r\n    setNewPost({\r\n      image_url: \"\",\r\n      caption: \"\",\r\n      post_url: \"https://instagram.com\",\r\n      likes_count: 0,\r\n      display_order: posts.length + 1,\r\n      is_active: true,\r\n    });\r\n  };\r\n\r\n  const handleEdit = (post: any) => {\r\n    setEditingId(post.id);\r\n    setEditForm({\r\n      image_url: post.image_url,\r\n      caption: post.caption || \"\",\r\n      post_url: post.post_url,\r\n      likes_count: post.likes_count,\r\n      display_order: post.display_order,\r\n      is_active: post.is_active,\r\n    });\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!editingId) return;\r\n\r\n    const { error } = await supabase\r\n      .from(\"instagram_posts\")\r\n      .update({\r\n        image_url: editForm.image_url,\r\n        caption: editForm.caption || null,\r\n        post_url: editForm.post_url,\r\n        likes_count: editForm.likes_count,\r\n        display_order: editForm.display_order,\r\n        is_active: editForm.is_active,\r\n      })\r\n      .eq(\"id\", editingId);\r\n\r\n    if (error) {\r\n      toast.error(\"Failed to update post\");\r\n      return;\r\n    }\r\n\r\n    toast.success(\"Post updated successfully\");\r\n    queryClient.invalidateQueries({ queryKey: [\"instagram-posts\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-instagram-posts\"] });\r\n    setEditingId(null);\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    if (!confirm(\"Are you sure you want to delete this post?\")) return;\r\n\r\n    const { error } = await supabase.from(\"instagram_posts\").delete().eq(\"id\", id);\r\n\r\n    if (error) {\r\n      toast.error(\"Failed to delete post\");\r\n      return;\r\n    }\r\n\r\n    toast.success(\"Post deleted successfully\");\r\n    queryClient.invalidateQueries({ queryKey: [\"instagram-posts\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-instagram-posts\"] });\r\n  };\r\n\r\n  const handleMove = async (id: string, direction: \"up\" | \"down\") => {\r\n    const currentIndex = posts.findIndex((p) => p.id === id);\r\n    if (currentIndex === -1) return;\r\n\r\n    const targetIndex = direction === \"up\" ? currentIndex - 1 : currentIndex + 1;\r\n    if (targetIndex < 0 || targetIndex >= posts.length) return;\r\n\r\n    const currentPost = posts[currentIndex];\r\n    const targetPost = posts[targetIndex];\r\n\r\n    await Promise.all([\r\n      supabase\r\n        .from(\"instagram_posts\")\r\n        .update({ display_order: targetPost.display_order })\r\n        .eq(\"id\", currentPost.id),\r\n      supabase\r\n        .from(\"instagram_posts\")\r\n        .update({ display_order: currentPost.display_order })\r\n        .eq(\"id\", targetPost.id),\r\n    ]);\r\n\r\n    toast.success(\"Order updated\");\r\n    queryClient.invalidateQueries({ queryKey: [\"instagram-posts\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-instagram-posts\"] });\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-16\">\r\n        <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold\">Instagram Feed</h2>\r\n          <p className=\"text-muted-foreground\">\r\n            Manage posts displayed in the Instagram feed section\r\n          </p>\r\n        </div>\r\n        <Dialog open={isAddingPost} onOpenChange={setIsAddingPost}>\r\n          <DialogTrigger asChild>\r\n            <Button>\r\n              <Plus className=\"mr-2 h-4 w-4\" />\r\n              Add Post\r\n            </Button>\r\n          </DialogTrigger>\r\n          <DialogContent className=\"max-h-[90vh] overflow-y-auto sm:max-w-[600px]\">\r\n            <DialogHeader>\r\n              <DialogTitle>Add Instagram Post</DialogTitle>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4 py-4\">\r\n              <div>\r\n                <Label>Post Image *</Label>\r\n                <div className=\"mt-2 flex items-center gap-4\">\r\n                  {newPost.image_url && (\r\n                    <img \r\n                      src={newPost.image_url} \r\n                      alt=\"Preview\" \r\n                      className=\"h-20 w-20 rounded-md object-cover border\"\r\n                    />\r\n                  )}\r\n                  <div className=\"relative\">\r\n                    <input\r\n                      type=\"file\"\r\n                      id=\"image-upload\"\r\n                      className=\"hidden\"\r\n                      accept=\"image/*\"\r\n                      onChange={(e) => handleImageUpload(e)}\r\n                      disabled={uploading}\r\n                    />\r\n                    <Button asChild variant=\"outline\" disabled={uploading}>\r\n                      <label htmlFor=\"image-upload\" className=\"cursor-pointer\">\r\n                        <Upload className=\"mr-2 h-4 w-4\" />\r\n                        {uploading ? \"Uploading...\" : \"Upload Image\"}\r\n                      </label>\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <Label htmlFor=\"caption\">Caption</Label>\r\n                <Textarea\r\n                  id=\"caption\"\r\n                  value={newPost.caption}\r\n                  onChange={(e) => setNewPost({ ...newPost, caption: e.target.value })}\r\n                  placeholder=\"Sunday vibes with the squad  #PebricStyle\"\r\n                  rows={2}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid gap-4 sm:grid-cols-2\">\r\n                <div>\r\n                  <Label htmlFor=\"likes\">Likes Count</Label>\r\n                  <Input\r\n                    id=\"likes\"\r\n                    type=\"number\"\r\n                    value={newPost.likes_count}\r\n                    onChange={(e) => setNewPost({ ...newPost, likes_count: parseInt(e.target.value) || 0 })}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <Label htmlFor=\"url\">Post URL</Label>\r\n                  <Input\r\n                    id=\"url\"\r\n                    value={newPost.post_url}\r\n                    onChange={(e) => setNewPost({ ...newPost, post_url: e.target.value })}\r\n                    placeholder=\"https://instagram.com/...\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"is_active\"\r\n                  checked={newPost.is_active}\r\n                  onChange={(e) => setNewPost({ ...newPost, is_active: e.target.checked })}\r\n                />\r\n                <Label htmlFor=\"is_active\">Active</Label>\r\n              </div>\r\n\r\n              <Button onClick={handleAddPost} className=\"w-full\">\r\n                Add Post\r\n              </Button>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\r\n        {posts.map((post, index) => (\r\n          <div key={post.id} className=\"relative rounded-lg border bg-card text-card-foreground shadow-sm overflow-hidden group\">\r\n            <div className=\"relative aspect-square\">\r\n              {editingId === post.id ? (\r\n                 <div className=\"absolute inset-0 flex items-center justify-center bg-muted\">\r\n                    <input\r\n                      type=\"file\"\r\n                      id={`edit-image-${post.id}`}\r\n                      className=\"hidden\"\r\n                      accept=\"image/*\"\r\n                      onChange={(e) => handleImageUpload(e, true)}\r\n                    />\r\n                    <Button asChild variant=\"outline\" size=\"sm\">\r\n                       <label htmlFor={`edit-image-${post.id}`} className=\"cursor-pointer\">\r\n                         Change Image\r\n                       </label>\r\n                    </Button>\r\n                 </div>\r\n              ) : (\r\n                <img\r\n                  src={post.image_url}\r\n                  alt={post.caption || \"Instagram post\"}\r\n                  className=\"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105\"\r\n                />\r\n              )}\r\n              \r\n              {!post.is_active && (\r\n                <div className=\"absolute inset-x-0 top-0 bg-red-500/80 py-1 text-center text-xs font-bold text-white\">\r\n                  INACTIVE\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"p-4 space-y-3\">\r\n              {editingId === post.id ? (\r\n                <>\r\n                  <Textarea\r\n                    value={editForm.caption}\r\n                    onChange={(e) => setEditForm({...editForm, caption: e.target.value})}\r\n                    placeholder=\"Caption\"\r\n                    rows={2}\r\n                    className=\"text-sm\"\r\n                  />\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Heart className=\"h-4 w-4 text-muted-foreground\" />\r\n                    <Input\r\n                      type=\"number\"\r\n                      value={editForm.likes_count}\r\n                      onChange={(e) => setEditForm({...editForm, likes_count: parseInt(e.target.value)})}\r\n                      className=\"h-8\"\r\n                    />\r\n                  </div>\r\n                  <Input\r\n                      value={editForm.post_url}\r\n                      onChange={(e) => setEditForm({...editForm, post_url: e.target.value})}\r\n                      placeholder=\"Post URL\"\r\n                      className=\"h-8 text-xs\"\r\n                    />\r\n                  <div className=\"flex items-center gap-2 mt-2\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={editForm.is_active}\r\n                      onChange={(e) => setEditForm({...editForm, is_active: e.target.checked})}\r\n                    />\r\n                    <label className=\"text-sm\">Active</label>\r\n                  </div>\r\n                  <div className=\"flex gap-2 mt-2\">\r\n                    <Button size=\"sm\" onClick={handleSave} className=\"w-full\">Save</Button>\r\n                    <Button size=\"sm\" variant=\"outline\" onClick={() => setEditingId(null)} className=\"w-full\">Cancel</Button>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <>\r\n                   <p className=\"text-sm text-muted-foreground line-clamp-2 min-h-[2.5rem]\">\r\n                    {post.caption || \"No caption\"}\r\n                  </p>\r\n                  \r\n                  <div className=\"flex items-center justify-between text-sm text-muted-foreground\">\r\n                    <div className=\"flex items-center gap-1\">\r\n                      <Heart className=\"h-4 w-4 fill-current text-red-500\" />\r\n                      <span>{post.likes_count}</span>\r\n                    </div>\r\n                    {post.post_url && (\r\n                        <a href={post.post_url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"hover:text-primary\">\r\n                            <ExternalLink className=\"h-4 w-4\" />\r\n                        </a>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center justify-between pt-2 border-t mt-2\">\r\n                    <div className=\"flex gap-1\">\r\n                      <Button\r\n                        size=\"icon\"\r\n                        variant=\"ghost\"\r\n                        className=\"h-8 w-8\"\r\n                        onClick={() => handleMove(post.id, \"up\")}\r\n                        disabled={index === 0}\r\n                      >\r\n                        <ArrowUp className=\"h-4 w-4\" />\r\n                      </Button>\r\n                      <Button\r\n                        size=\"icon\"\r\n                        variant=\"ghost\"\r\n                        className=\"h-8 w-8\"\r\n                        onClick={() => handleMove(post.id, \"down\")}\r\n                        disabled={index === posts.length - 1}\r\n                      >\r\n                        <ArrowDown className=\"h-4 w-4\" />\r\n                      </Button>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex gap-1\">\r\n                      <Button\r\n                        size=\"icon\"\r\n                        variant=\"ghost\"\r\n                        className=\"h-8 w-8\"\r\n                        onClick={() => handleEdit(post)}\r\n                      >\r\n                        <Pencil className=\"h-4 w-4\" />\r\n                      </Button>\r\n                      <Button\r\n                        size=\"icon\"\r\n                        variant=\"ghost\"\r\n                        className=\"h-8 w-8 text-destructive hover:text-destructive\"\r\n                        onClick={() => handleDelete(post.id)}\r\n                      >\r\n                        <Trash2 className=\"h-4 w-4\" />\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\LowStockAlerts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\NewsletterManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\PaymentReconciliation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\ProductBundlesManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\PromoBannersManager.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":105,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":105,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3506,3509],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3506,3509],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from \"react\";\r\nimport { useAllPromoBanners } from \"@/hooks/usePromoBanners\";\r\nimport { supabase } from \"@/integrations/client\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\r\nimport { toast } from \"sonner\";\r\nimport { Plus, Pencil, Trash2, Save, ArrowUp, ArrowDown } from \"lucide-react\";\r\nimport { useQueryClient } from \"@tanstack/react-query\";\r\n\r\ninterface PromoBannerForm {\r\n  badge_text: string;\r\n  headline: string;\r\n  subheadline: string;\r\n  cta_text: string;\r\n  cta_link: string;\r\n  discount_percentage: number | null;\r\n  end_date: string;\r\n  background_color: string;\r\n  text_color: string;\r\n  display_order: number;\r\n  is_active: boolean;\r\n}\r\n\r\nexport function PromoBannersManager() {\r\n  const { data: banners = [], isLoading } = useAllPromoBanners();\r\n  const queryClient = useQueryClient();\r\n  const [editingId, setEditingId] = useState<string | null>(null);\r\n  const [isAddingBanner, setIsAddingBanner] = useState(false);\r\n\r\n  const [newBanner, setNewBanner] = useState<PromoBannerForm>({\r\n    badge_text: \"Limited Time Offer\",\r\n    headline: \"\",\r\n    subheadline: \"\",\r\n    cta_text: \"Shop Now\",\r\n    cta_link: \"/shop\",\r\n    discount_percentage: null,\r\n    end_date: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString().slice(0, 16),\r\n    background_color: \"#000000\",\r\n    text_color: \"#FFFFFF\",\r\n    display_order: banners.length + 1,\r\n    is_active: true,\r\n  });\r\n\r\n  const [editForm, setEditForm] = useState<PromoBannerForm>({\r\n    badge_text: \"\",\r\n    headline: \"\",\r\n    subheadline: \"\",\r\n    cta_text: \"\",\r\n    cta_link: \"\",\r\n    discount_percentage: null,\r\n    end_date: \"\",\r\n    background_color: \"#000000\",\r\n    text_color: \"#FFFFFF\",\r\n    display_order: 0,\r\n    is_active: true,\r\n  });\r\n\r\n  const handleAddBanner = async () => {\r\n    if (!newBanner.headline) {\r\n      toast.error(\"Please fill in the headline\");\r\n      return;\r\n    }\r\n\r\n    const { error } = await supabase.from(\"promo_banners\").insert({\r\n      badge_text: newBanner.badge_text,\r\n      headline: newBanner.headline,\r\n      subheadline: newBanner.subheadline || null,\r\n      cta_text: newBanner.cta_text || null,\r\n      cta_link: newBanner.cta_link || null,\r\n      discount_percentage: newBanner.discount_percentage,\r\n      end_date: newBanner.end_date,\r\n      background_color: newBanner.background_color,\r\n      text_color: newBanner.text_color,\r\n      display_order: newBanner.display_order,\r\n      is_active: newBanner.is_active,\r\n    });\r\n\r\n    if (error) {\r\n      toast.error(\"Failed to add promo banner\");\r\n      return;\r\n    }\r\n\r\n    toast.success(\"Promo banner added successfully\");\r\n    queryClient.invalidateQueries({ queryKey: [\"promo-banners\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-promo-banners\"] });\r\n    setIsAddingBanner(false);\r\n    setNewBanner({\r\n      badge_text: \"Limited Time Offer\",\r\n      headline: \"\",\r\n      subheadline: \"\",\r\n      cta_text: \"Shop Now\",\r\n      cta_link: \"/shop\",\r\n      discount_percentage: null,\r\n      end_date: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString().slice(0, 16),\r\n      background_color: \"#000000\",\r\n      text_color: \"#FFFFFF\",\r\n      display_order: banners.length + 1,\r\n      is_active: true,\r\n    });\r\n  };\r\n\r\n  const handleEdit = (banner: any) => {\r\n    setEditingId(banner.id);\r\n    setEditForm({\r\n      badge_text: banner.badge_text,\r\n      headline: banner.headline,\r\n      subheadline: banner.subheadline || \"\",\r\n      cta_text: banner.cta_text || \"\",\r\n      cta_link: banner.cta_link || \"\",\r\n      discount_percentage: banner.discount_percentage,\r\n      end_date: new Date(banner.end_date).toISOString().slice(0, 16),\r\n      background_color: banner.background_color,\r\n      text_color: banner.text_color,\r\n      display_order: banner.display_order,\r\n      is_active: banner.is_active,\r\n    });\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!editingId) return;\r\n\r\n    const { error } = await supabase\r\n      .from(\"promo_banners\")\r\n      .update({\r\n        badge_text: editForm.badge_text,\r\n        headline: editForm.headline,\r\n        subheadline: editForm.subheadline || null,\r\n        cta_text: editForm.cta_text || null,\r\n        cta_link: editForm.cta_link || null,\r\n        discount_percentage: editForm.discount_percentage,\r\n        end_date: editForm.end_date,\r\n        background_color: editForm.background_color,\r\n        text_color: editForm.text_color,\r\n        display_order: editForm.display_order,\r\n        is_active: editForm.is_active,\r\n      })\r\n      .eq(\"id\", editingId);\r\n\r\n    if (error) {\r\n      toast.error(\"Failed to update promo banner\");\r\n      return;\r\n    }\r\n\r\n    toast.success(\"Promo banner updated successfully\");\r\n    queryClient.invalidateQueries({ queryKey: [\"promo-banners\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-promo-banners\"] });\r\n    setEditingId(null);\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    if (!confirm(\"Are you sure you want to delete this promo banner?\")) return;\r\n\r\n    const { error } = await supabase.from(\"promo_banners\").delete().eq(\"id\", id);\r\n\r\n    if (error) {\r\n      toast.error(\"Failed to delete promo banner\");\r\n      return;\r\n    }\r\n\r\n    toast.success(\"Promo banner deleted successfully\");\r\n    queryClient.invalidateQueries({ queryKey: [\"promo-banners\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-promo-banners\"] });\r\n  };\r\n\r\n  const handleMove = async (id: string, direction: \"up\" | \"down\") => {\r\n    const currentIndex = banners.findIndex((b) => b.id === id);\r\n    if (currentIndex === -1) return;\r\n\r\n    const targetIndex = direction === \"up\" ? currentIndex - 1 : currentIndex + 1;\r\n    if (targetIndex < 0 || targetIndex >= banners.length) return;\r\n\r\n    const currentBanner = banners[currentIndex];\r\n    const targetBanner = banners[targetIndex];\r\n\r\n    await Promise.all([\r\n      supabase\r\n        .from(\"promo_banners\")\r\n        .update({ display_order: targetBanner.display_order })\r\n        .eq(\"id\", currentBanner.id),\r\n      supabase\r\n        .from(\"promo_banners\")\r\n        .update({ display_order: currentBanner.display_order })\r\n        .eq(\"id\", targetBanner.id),\r\n    ]);\r\n\r\n    toast.success(\"Banner order updated\");\r\n    queryClient.invalidateQueries({ queryKey: [\"promo-banners\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-promo-banners\"] });\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-16\">\r\n        <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold\">Promo Banners</h2>\r\n          <p className=\"text-muted-foreground\">\r\n            Manage promotional banners with countdown timers\r\n          </p>\r\n        </div>\r\n        <Dialog open={isAddingBanner} onOpenChange={setIsAddingBanner}>\r\n          <DialogTrigger asChild>\r\n            <Button>\r\n              <Plus className=\"mr-2 h-4 w-4\" />\r\n              Add Promo Banner\r\n            </Button>\r\n          </DialogTrigger>\r\n          <DialogContent className=\"max-h-[90vh] overflow-y-auto sm:max-w-[600px]\">\r\n            <DialogHeader>\r\n              <DialogTitle>Add New Promo Banner</DialogTitle>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4 py-4\">\r\n              <div>\r\n                <Label htmlFor=\"badge\">Badge Text *</Label>\r\n                <Input\r\n                  id=\"badge\"\r\n                  value={newBanner.badge_text}\r\n                  onChange={(e) => setNewBanner({ ...newBanner, badge_text: e.target.value })}\r\n                  placeholder=\"Limited Time Offer\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Label htmlFor=\"headline\">Headline *</Label>\r\n                <Input\r\n                  id=\"headline\"\r\n                  value={newBanner.headline}\r\n                  onChange={(e) => setNewBanner({ ...newBanner, headline: e.target.value })}\r\n                  placeholder=\"Flat 20% Off\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Label htmlFor=\"subheadline\">Subheadline</Label>\r\n                <Textarea\r\n                  id=\"subheadline\"\r\n                  value={newBanner.subheadline}\r\n                  onChange={(e) => setNewBanner({ ...newBanner, subheadline: e.target.value })}\r\n                  placeholder=\"On All Twinning Sets\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid gap-4 sm:grid-cols-2\">\r\n                <div>\r\n                  <Label htmlFor=\"cta_text\">CTA Text</Label>\r\n                  <Input\r\n                    id=\"cta_text\"\r\n                    value={newBanner.cta_text}\r\n                    onChange={(e) => setNewBanner({ ...newBanner, cta_text: e.target.value })}\r\n                    placeholder=\"Shop Now\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <Label htmlFor=\"cta_link\">CTA Link</Label>\r\n                  <Input\r\n                    id=\"cta_link\"\r\n                    value={newBanner.cta_link}\r\n                    onChange={(e) => setNewBanner({ ...newBanner, cta_link: e.target.value })}\r\n                    placeholder=\"/shop\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid gap-4 sm:grid-cols-2\">\r\n                <div>\r\n                  <Label htmlFor=\"discount\">Discount %</Label>\r\n                  <Input\r\n                    id=\"discount\"\r\n                    type=\"number\"\r\n                    value={newBanner.discount_percentage || \"\"}\r\n                    onChange={(e) =>\r\n                      setNewBanner({\r\n                        ...newBanner,\r\n                        discount_percentage: e.target.value ? Number(e.target.value) : null,\r\n                      })\r\n                    }\r\n                    placeholder=\"20\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <Label htmlFor=\"end_date\">End Date *</Label>\r\n                  <Input\r\n                    id=\"end_date\"\r\n                    type=\"datetime-local\"\r\n                    value={newBanner.end_date}\r\n                    onChange={(e) => setNewBanner({ ...newBanner, end_date: e.target.value })}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid gap-4 sm:grid-cols-2\">\r\n                <div>\r\n                  <Label htmlFor=\"bg_color\">Background Color</Label>\r\n                  <Input\r\n                    id=\"bg_color\"\r\n                    type=\"color\"\r\n                    value={newBanner.background_color}\r\n                    onChange={(e) => setNewBanner({ ...newBanner, background_color: e.target.value })}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <Label htmlFor=\"text_color\">Text Color</Label>\r\n                  <Input\r\n                    id=\"text_color\"\r\n                    type=\"color\"\r\n                    value={newBanner.text_color}\r\n                    onChange={(e) => setNewBanner({ ...newBanner, text_color: e.target.value })}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"is_active\"\r\n                  checked={newBanner.is_active}\r\n                  onChange={(e) => setNewBanner({ ...newBanner, is_active: e.target.checked })}\r\n                />\r\n                <Label htmlFor=\"is_active\">Active</Label>\r\n              </div>\r\n\r\n              <Button onClick={handleAddBanner} className=\"w-full\">\r\n                Add Promo Banner\r\n              </Button>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n\r\n      <div className=\"rounded-lg border border-border\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"border-b border-border bg-muted/50\">\r\n              <tr>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Headline</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Discount</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">End Date</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Status</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Order</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {banners.map((banner, index) => (\r\n                <tr key={banner.id} className=\"border-b border-border\">\r\n                  <td className=\"px-4 py-3\">\r\n                    {editingId === banner.id ? (\r\n                      <Input\r\n                        value={editForm.headline}\r\n                        onChange={(e) => setEditForm({ ...editForm, headline: e.target.value })}\r\n                        className=\"w-48\"\r\n                      />\r\n                    ) : (\r\n                      <div>\r\n                        <p className=\"font-medium\">{banner.headline}</p>\r\n                        <p className=\"text-sm text-muted-foreground line-clamp-1\">\r\n                          {banner.subheadline}\r\n                        </p>\r\n                      </div>\r\n                    )}\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">\r\n                    {banner.discount_percentage ? `${banner.discount_percentage}%` : \"-\"}\r\n                  </td>\r\n                  <td className=\"px-4 py-3 text-sm\">\r\n                    {new Date(banner.end_date).toLocaleDateString()}\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">\r\n                    <span\r\n                      className={`inline-flex rounded-full px-2 py-1 text-xs font-medium ${\r\n                        banner.is_active\r\n                          ? \"bg-green-100 text-green-800\"\r\n                          : \"bg-red-100 text-red-800\"\r\n                      }`}\r\n                    >\r\n                      {banner.is_active ? \"Active\" : \"Inactive\"}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">\r\n                    <div className=\"flex items-center gap-1\">\r\n                      <Button\r\n                        size=\"sm\"\r\n                        variant=\"ghost\"\r\n                        onClick={() => handleMove(banner.id, \"up\")}\r\n                        disabled={index === 0}\r\n                      >\r\n                        <ArrowUp className=\"h-3 w-3\" />\r\n                      </Button>\r\n                      <Button\r\n                        size=\"sm\"\r\n                        variant=\"ghost\"\r\n                        onClick={() => handleMove(banner.id, \"down\")}\r\n                        disabled={index === banners.length - 1}\r\n                      >\r\n                        <ArrowDown className=\"h-3 w-3\" />\r\n                      </Button>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">\r\n                    <div className=\"flex gap-2\">\r\n                      {editingId === banner.id ? (\r\n                        <>\r\n                          <Button size=\"sm\" onClick={handleSave}>\r\n                            <Save className=\"h-4 w-4\" />\r\n                          </Button>\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"outline\"\r\n                            onClick={() => setEditingId(null)}\r\n                          >\r\n                            Cancel\r\n                          </Button>\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"outline\"\r\n                            onClick={() => handleEdit(banner)}\r\n                          >\r\n                            <Pencil className=\"h-4 w-4\" />\r\n                          </Button>\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"destructive\"\r\n                            onClick={() => handleDelete(banner.id)}\r\n                          >\r\n                            <Trash2 className=\"h-4 w-4\" />\r\n                          </Button>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\RTOAnalytics.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\RateLimitDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\ReturnsManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\RevenueDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\SatisfactionDashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\SupportManager.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\admin\\TestimonialsManager.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":125,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":125,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4108,4111],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4108,4111],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from \"react\";\r\nimport { useAllTestimonials } from \"@/hooks/useTestimonials\";\r\nimport { supabase } from \"@/integrations/client\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\r\nimport { toast } from \"sonner\";\r\nimport { Plus, Pencil, Trash2, Save, ArrowUp, ArrowDown, Upload, Star } from \"lucide-react\";\r\nimport { useQueryClient } from \"@tanstack/react-query\";\r\n\r\ninterface TestimonialForm {\r\n  customer_name: string;\r\n  location: string;\r\n  rating: number;\r\n  review_text: string;\r\n  pet_name: string;\r\n  image_url: string;\r\n  display_order: number;\r\n  is_active: boolean;\r\n}\r\n\r\nexport function TestimonialsManager() {\r\n  const { data: testimonials = [], isLoading } = useAllTestimonials();\r\n  const queryClient = useQueryClient();\r\n  const [editingId, setEditingId] = useState<string | null>(null);\r\n  const [isAddingTestimonial, setIsAddingTestimonial] = useState(false);\r\n  const [uploading, setUploading] = useState(false);\r\n\r\n  const [newTestimonial, setNewTestimonial] = useState<TestimonialForm>({\r\n    customer_name: \"\",\r\n    location: \"\",\r\n    rating: 5,\r\n    review_text: \"\",\r\n    pet_name: \"\",\r\n    image_url: \"\",\r\n    display_order: testimonials.length + 1,\r\n    is_active: true,\r\n  });\r\n\r\n  const [editForm, setEditForm] = useState<TestimonialForm>({\r\n    customer_name: \"\",\r\n    location: \"\",\r\n    rating: 5,\r\n    review_text: \"\",\r\n    pet_name: \"\",\r\n    image_url: \"\",\r\n    display_order: 0,\r\n    is_active: true,\r\n  });\r\n\r\n  const handleImageUpload = async (e: React.ChangeEvent<HTMLInputElement>, isEdit = false) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    setUploading(true);\r\n    const fileExt = file.name.split('.').pop();\r\n    const fileName = `${Date.now()}-${Math.random().toString(36).substring(7)}.${fileExt}`;\r\n    const filePath = `testimonials/${fileName}`;\r\n\r\n    try {\r\n      const { error: uploadError } = await supabase.storage\r\n        .from('product-images') // Reusing existing bucket for now\r\n        .upload(filePath, file);\r\n\r\n      if (uploadError) throw uploadError;\r\n\r\n      const { data: { publicUrl } } = supabase.storage\r\n        .from('product-images')\r\n        .getPublicUrl(filePath);\r\n\r\n      if (isEdit) {\r\n        setEditForm(prev => ({ ...prev, image_url: publicUrl }));\r\n      } else {\r\n        setNewTestimonial(prev => ({ ...prev, image_url: publicUrl }));\r\n      }\r\n      toast.success(\"Image uploaded successfully\");\r\n    } catch (error) {\r\n      toast.error(\"Error uploading image\");\r\n      console.error(error);\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleAddTestimonial = async () => {\r\n    if (!newTestimonial.customer_name || !newTestimonial.review_text) {\r\n      toast.error(\"Please fill in required fields\");\r\n      return;\r\n    }\r\n\r\n    const { error } = await supabase.from(\"testimonials_cms\").insert({\r\n      customer_name: newTestimonial.customer_name,\r\n      location: newTestimonial.location || null,\r\n      rating: newTestimonial.rating,\r\n      review_text: newTestimonial.review_text,\r\n      pet_name: newTestimonial.pet_name || null,\r\n      image_url: newTestimonial.image_url || null,\r\n      display_order: newTestimonial.display_order,\r\n      is_active: newTestimonial.is_active,\r\n    });\r\n\r\n    if (error) {\r\n      toast.error(\"Failed to add testimonial\");\r\n      return;\r\n    }\r\n\r\n    toast.success(\"Testimonial added successfully\");\r\n    queryClient.invalidateQueries({ queryKey: [\"testimonials\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-testimonials\"] });\r\n    setIsAddingTestimonial(false);\r\n    setNewTestimonial({\r\n      customer_name: \"\",\r\n      location: \"\",\r\n      rating: 5,\r\n      review_text: \"\",\r\n      pet_name: \"\",\r\n      image_url: \"\",\r\n      display_order: testimonials.length + 1,\r\n      is_active: true,\r\n    });\r\n  };\r\n\r\n  const handleEdit = (testimonial: any) => {\r\n    setEditingId(testimonial.id);\r\n    setEditForm({\r\n      customer_name: testimonial.customer_name,\r\n      location: testimonial.location || \"\",\r\n      rating: testimonial.rating,\r\n      review_text: testimonial.review_text,\r\n      pet_name: testimonial.pet_name || \"\",\r\n      image_url: testimonial.image_url || \"\",\r\n      display_order: testimonial.display_order,\r\n      is_active: testimonial.is_active,\r\n    });\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!editingId) return;\r\n\r\n    const { error } = await supabase\r\n      .from(\"testimonials_cms\")\r\n      .update({\r\n        customer_name: editForm.customer_name,\r\n        location: editForm.location || null,\r\n        rating: editForm.rating,\r\n        review_text: editForm.review_text,\r\n        pet_name: editForm.pet_name || null,\r\n        image_url: editForm.image_url || null,\r\n        display_order: editForm.display_order,\r\n        is_active: editForm.is_active,\r\n      })\r\n      .eq(\"id\", editingId);\r\n\r\n    if (error) {\r\n      toast.error(\"Failed to update testimonial\");\r\n      return;\r\n    }\r\n\r\n    toast.success(\"Testimonial updated successfully\");\r\n    queryClient.invalidateQueries({ queryKey: [\"testimonials\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-testimonials\"] });\r\n    setEditingId(null);\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    if (!confirm(\"Are you sure you want to delete this testimonial?\")) return;\r\n\r\n    const { error } = await supabase.from(\"testimonials_cms\").delete().eq(\"id\", id);\r\n\r\n    if (error) {\r\n      toast.error(\"Failed to delete testimonial\");\r\n      return;\r\n    }\r\n\r\n    toast.success(\"Testimonial deleted successfully\");\r\n    queryClient.invalidateQueries({ queryKey: [\"testimonials\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-testimonials\"] });\r\n  };\r\n\r\n  const handleMove = async (id: string, direction: \"up\" | \"down\") => {\r\n    const currentIndex = testimonials.findIndex((t) => t.id === id);\r\n    if (currentIndex === -1) return;\r\n\r\n    const targetIndex = direction === \"up\" ? currentIndex - 1 : currentIndex + 1;\r\n    if (targetIndex < 0 || targetIndex >= testimonials.length) return;\r\n\r\n    const currentTestimonial = testimonials[currentIndex];\r\n    const targetTestimonial = testimonials[targetIndex];\r\n\r\n    await Promise.all([\r\n      supabase\r\n        .from(\"testimonials_cms\")\r\n        .update({ display_order: targetTestimonial.display_order })\r\n        .eq(\"id\", currentTestimonial.id),\r\n      supabase\r\n        .from(\"testimonials_cms\")\r\n        .update({ display_order: currentTestimonial.display_order })\r\n        .eq(\"id\", targetTestimonial.id),\r\n    ]);\r\n\r\n    toast.success(\"Testimonial order updated\");\r\n    queryClient.invalidateQueries({ queryKey: [\"testimonials\"] });\r\n    queryClient.invalidateQueries({ queryKey: [\"all-testimonials\"] });\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-16\">\r\n        <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold\">Testimonials</h2>\r\n          <p className=\"text-muted-foreground\">\r\n            Manage customer reviews and success stories\r\n          </p>\r\n        </div>\r\n        <Dialog open={isAddingTestimonial} onOpenChange={setIsAddingTestimonial}>\r\n          <DialogTrigger asChild>\r\n            <Button>\r\n              <Plus className=\"mr-2 h-4 w-4\" />\r\n              Add Testimonial\r\n            </Button>\r\n          </DialogTrigger>\r\n          <DialogContent className=\"max-h-[90vh] overflow-y-auto sm:max-w-[600px]\">\r\n            <DialogHeader>\r\n              <DialogTitle>Add New Testimonial</DialogTitle>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4 py-4\">\r\n              <div className=\"grid gap-4 sm:grid-cols-2\">\r\n                <div>\r\n                  <Label htmlFor=\"customer_name\">Name *</Label>\r\n                  <Input\r\n                    id=\"customer_name\"\r\n                    value={newTestimonial.customer_name}\r\n                    onChange={(e) => setNewTestimonial({ ...newTestimonial, customer_name: e.target.value })}\r\n                    placeholder=\"Jane Doe\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <Label htmlFor=\"rating\">Rating (1-5)</Label>\r\n                  <Input\r\n                    id=\"rating\"\r\n                    type=\"number\"\r\n                    min=\"1\"\r\n                    max=\"5\"\r\n                    value={newTestimonial.rating}\r\n                    onChange={(e) => setNewTestimonial({ ...newTestimonial, rating: parseInt(e.target.value) })}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid gap-4 sm:grid-cols-2\">\r\n                <div>\r\n                  <Label htmlFor=\"location\">Location</Label>\r\n                  <Input\r\n                    id=\"location\"\r\n                    value={newTestimonial.location}\r\n                    onChange={(e) => setNewTestimonial({ ...newTestimonial, location: e.target.value })}\r\n                    placeholder=\"New York, NY\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <Label htmlFor=\"pet_name\">Pet Name</Label>\r\n                  <Input\r\n                    id=\"pet_name\"\r\n                    value={newTestimonial.pet_name}\r\n                    onChange={(e) => setNewTestimonial({ ...newTestimonial, pet_name: e.target.value })}\r\n                    placeholder=\"Max\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <Label htmlFor=\"review_text\">Review *</Label>\r\n                <Textarea\r\n                  id=\"review_text\"\r\n                  value={newTestimonial.review_text}\r\n                  onChange={(e) => setNewTestimonial({ ...newTestimonial, review_text: e.target.value })}\r\n                  placeholder=\"Great product...\"\r\n                  rows={4}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Label>Customer Photo</Label>\r\n                <div className=\"mt-2 flex items-center gap-4\">\r\n                  {newTestimonial.image_url && (\r\n                    <img \r\n                      src={newTestimonial.image_url} \r\n                      alt=\"Preview\" \r\n                      className=\"h-16 w-16 rounded-full object-cover border\"\r\n                    />\r\n                  )}\r\n                  <div className=\"relative\">\r\n                    <input\r\n                      type=\"file\"\r\n                      id=\"image-upload\"\r\n                      className=\"hidden\"\r\n                      accept=\"image/*\"\r\n                      onChange={(e) => handleImageUpload(e)}\r\n                      disabled={uploading}\r\n                    />\r\n                    <Button asChild variant=\"outline\" disabled={uploading}>\r\n                      <label htmlFor=\"image-upload\" className=\"cursor-pointer\">\r\n                        <Upload className=\"mr-2 h-4 w-4\" />\r\n                        {uploading ? \"Uploading...\" : \"Upload Photo\"}\r\n                      </label>\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-center gap-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id=\"is_active\"\r\n                  checked={newTestimonial.is_active}\r\n                  onChange={(e) => setNewTestimonial({ ...newTestimonial, is_active: e.target.checked })}\r\n                />\r\n                <Label htmlFor=\"is_active\">Active</Label>\r\n              </div>\r\n\r\n              <Button onClick={handleAddTestimonial} className=\"w-full\">\r\n                Add Testimonial\r\n              </Button>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n\r\n      <div className=\"rounded-lg border border-border\">\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"border-b border-border bg-muted/50\">\r\n              <tr>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Customer</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Review</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Rating</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Status</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Order</th>\r\n                <th className=\"px-4 py-3 text-left text-sm font-medium\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {testimonials.map((testimonial, index) => (\r\n                <tr key={testimonial.id} className=\"border-b border-border\">\r\n                  <td className=\"px-4 py-3\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                       {testimonial.image_url ? (\r\n                        <img \r\n                          src={testimonial.image_url} \r\n                          alt={testimonial.customer_name} \r\n                          className=\"h-8 w-8 rounded-full object-cover\" \r\n                        />\r\n                      ) : (\r\n                        <div className=\"h-8 w-8 rounded-full bg-muted flex items-center justify-center\">\r\n                          {testimonial.customer_name.charAt(0)}\r\n                        </div>\r\n                      )}\r\n                      <div>\r\n                        <p className=\"font-medium text-sm\">{testimonial.customer_name}</p>\r\n                        <p className=\"text-xs text-muted-foreground\">{testimonial.location}</p>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">\r\n                     {editingId === testimonial.id ? (\r\n                      <Textarea\r\n                        value={editForm.review_text}\r\n                        onChange={(e) => setEditForm({ ...editForm, review_text: e.target.value })}\r\n                        rows={2}\r\n                      />\r\n                    ) : (\r\n                      <p className=\"text-sm text-muted-foreground line-clamp-2 max-w-md\">\r\n                        {testimonial.review_text}\r\n                      </p>\r\n                    )}\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">\r\n                    <div className=\"flex items-center text-yellow-500\">\r\n                      {editingId === testimonial.id ? (\r\n                        <Input \r\n                          type=\"number\" \r\n                          min=\"1\" \r\n                          max=\"5\" \r\n                          className=\"w-16\"\r\n                          value={editForm.rating}\r\n                          onChange={(e) => setEditForm({...editForm, rating: parseInt(e.target.value)})}\r\n                        />\r\n                      ) : (\r\n                        <>\r\n                          <span className=\"font-medium mr-1\">{testimonial.rating}</span>\r\n                          <Star className=\"h-3 w-3 fill-current\" />\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">\r\n                    {editingId === testimonial.id ? (\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={editForm.is_active}\r\n                        onChange={(e) => setEditForm({ ...editForm, is_active: e.target.checked })}\r\n                      />\r\n                    ) : (\r\n                      <span\r\n                        className={`inline-flex rounded-full px-2 py-1 text-xs font-medium ${\r\n                          testimonial.is_active\r\n                            ? \"bg-green-100 text-green-800\"\r\n                            : \"bg-red-100 text-red-800\"\r\n                        }`}\r\n                      >\r\n                        {testimonial.is_active ? \"Active\" : \"Inactive\"}\r\n                      </span>\r\n                    )}\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">\r\n                    <div className=\"flex items-center gap-1\">\r\n                      <Button\r\n                        size=\"sm\"\r\n                        variant=\"ghost\"\r\n                        onClick={() => handleMove(testimonial.id, \"up\")}\r\n                        disabled={index === 0}\r\n                      >\r\n                        <ArrowUp className=\"h-3 w-3\" />\r\n                      </Button>\r\n                      <Button\r\n                        size=\"sm\"\r\n                        variant=\"ghost\"\r\n                        onClick={() => handleMove(testimonial.id, \"down\")}\r\n                        disabled={index === testimonials.length - 1}\r\n                      >\r\n                        <ArrowDown className=\"h-3 w-3\" />\r\n                      </Button>\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-4 py-3\">\r\n                    <div className=\"flex gap-2\">\r\n                      {editingId === testimonial.id ? (\r\n                        <>\r\n                          <Button size=\"sm\" onClick={handleSave}>\r\n                            <Save className=\"h-4 w-4\" />\r\n                          </Button>\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"outline\"\r\n                            onClick={() => setEditingId(null)}\r\n                          >\r\n                            Cancel\r\n                          </Button>\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"outline\"\r\n                            onClick={() => handleEdit(testimonial)}\r\n                          >\r\n                            <Pencil className=\"h-4 w-4\" />\r\n                          </Button>\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"destructive\"\r\n                            onClick={() => handleDelete(testimonial.id)}\r\n                          >\r\n                            <Trash2 className=\"h-4 w-4\" />\r\n                          </Button>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\layouts\\PageLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\accordion.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\alert-dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\alert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\aspect-ratio.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\badge.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":29,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":29,"endColumn":30}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive: \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return <div className={cn(badgeVariants({ variant }), className)} {...props} />;\n}\n\nexport { Badge, badgeVariants };\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\breadcrumb.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\button.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":55,"column":18,"nodeType":"Identifier","messageId":"namedExport","endLine":55,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 font-body active:scale-[0.98] hover:shadow-soft\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground hover:shadow-none\",\n        link: \"text-primary underline-offset-4 hover:underline hover:shadow-none\",\n        // Premium variants for the pet clothing brand\n        hero: \"bg-foreground text-background hover:bg-foreground/90 hover:translate-y-[-2px] hover:shadow-elevated uppercase tracking-[0.2em] text-xs font-semibold h-14 px-10\",\n        \"hero-outline\": \"border-2 border-foreground bg-transparent text-foreground hover:bg-foreground hover:text-background hover:translate-y-[-2px] hover:shadow-elevated uppercase tracking-[0.2em] text-xs font-semibold h-14 px-10\",\n        elegant: \"bg-charcoal text-primary-foreground hover:bg-charcoal/90 hover:translate-y-[-2px] tracking-wider\",\n        minimal: \"bg-transparent text-foreground hover:bg-muted underline-offset-4 tracking-wide hover:shadow-none\",\n        premium: \"bg-foreground text-background hover:bg-foreground/80 hover:translate-y-[-2px] hover:shadow-elevated uppercase tracking-[0.15em] text-xs font-medium\",\n        \"premium-outline\": \"border border-foreground/30 bg-transparent text-foreground hover:border-foreground hover:bg-foreground hover:text-background hover:translate-y-[-2px] hover:shadow-elevated uppercase tracking-[0.15em] text-xs font-medium\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        xl: \"h-14 rounded-md px-10 text-base\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />;\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\calendar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\carousel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\chart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\checkbox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\collapsible.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\command.tsx","messages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An interface declaring no members is equivalent to its supertype.","line":24,"column":11,"nodeType":"Identifier","messageId":"noEmptyInterfaceWithSuper","endLine":24,"endColumn":29,"suggestions":[{"messageId":"replaceEmptyInterfaceWithSuper","fix":{"range":[710,761],"text":"type CommandDialogProps = DialogProps"},"desc":"Replace empty interface with a type alias."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport { type DialogProps } from \"@radix-ui/react-dialog\";\nimport { Command as CommandPrimitive } from \"cmdk\";\nimport { Search } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\";\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className,\n    )}\n    {...props}\n  />\n));\nCommand.displayName = CommandPrimitive.displayName;\n\ninterface CommandDialogProps extends DialogProps {}\n\nconst CommandDialog = ({ children, ...props }: CommandDialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className,\n      )}\n      {...props}\n    />\n  </div>\n));\n\nCommandInput.displayName = CommandPrimitive.Input.displayName;\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n));\n\nCommandList.displayName = CommandPrimitive.List.displayName;\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => <CommandPrimitive.Empty ref={ref} className=\"py-6 text-center text-sm\" {...props} />);\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName;\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className,\n    )}\n    {...props}\n  />\n));\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName;\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator ref={ref} className={cn(\"-mx-1 h-px bg-border\", className)} {...props} />\n));\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName;\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50\",\n      className,\n    )}\n    {...props}\n  />\n));\n\nCommandItem.displayName = CommandPrimitive.Item.displayName;\n\nconst CommandShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {\n  return <span className={cn(\"ml-auto text-xs tracking-widest text-muted-foreground\", className)} {...props} />;\n};\nCommandShortcut.displayName = \"CommandShortcut\";\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n};\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\context-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\drawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\form.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":129,"column":10,"nodeType":"Identifier","messageId":"namedExport","endLine":129,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { Controller, ControllerProps, FieldPath, FieldValues, FormProvider, useFormContext } from \"react-hook-form\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Label } from \"@/components/ui/label\";\n\nconst Form = FormProvider;\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = {\n  name: TName;\n};\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>({} as FormFieldContextValue);\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  );\n};\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext);\n  const itemContext = React.useContext(FormItemContext);\n  const { getFieldState, formState } = useFormContext();\n\n  const fieldState = getFieldState(fieldContext.name, formState);\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\");\n  }\n\n  const { id } = itemContext;\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  };\n};\n\ntype FormItemContextValue = {\n  id: string;\n};\n\nconst FormItemContext = React.createContext<FormItemContextValue>({} as FormItemContextValue);\n\nconst FormItem = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    const id = React.useId();\n\n    return (\n      <FormItemContext.Provider value={{ id }}>\n        <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n      </FormItemContext.Provider>\n    );\n  },\n);\nFormItem.displayName = \"FormItem\";\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField();\n\n  return <Label ref={ref} className={cn(error && \"text-destructive\", className)} htmlFor={formItemId} {...props} />;\n});\nFormLabel.displayName = \"FormLabel\";\n\nconst FormControl = React.forwardRef<React.ElementRef<typeof Slot>, React.ComponentPropsWithoutRef<typeof Slot>>(\n  ({ ...props }, ref) => {\n    const { error, formItemId, formDescriptionId, formMessageId } = useFormField();\n\n    return (\n      <Slot\n        ref={ref}\n        id={formItemId}\n        aria-describedby={!error ? `${formDescriptionId}` : `${formDescriptionId} ${formMessageId}`}\n        aria-invalid={!!error}\n        {...props}\n      />\n    );\n  },\n);\nFormControl.displayName = \"FormControl\";\n\nconst FormDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => {\n    const { formDescriptionId } = useFormField();\n\n    return <p ref={ref} id={formDescriptionId} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />;\n  },\n);\nFormDescription.displayName = \"FormDescription\";\n\nconst FormMessage = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, children, ...props }, ref) => {\n    const { error, formMessageId } = useFormField();\n    const body = error ? String(error?.message) : children;\n\n    if (!body) {\n      return null;\n    }\n\n    return (\n      <p ref={ref} id={formMessageId} className={cn(\"text-sm font-medium text-destructive\", className)} {...props}>\n        {body}\n      </p>\n    );\n  },\n);\nFormMessage.displayName = \"FormMessage\";\n\nexport { useFormField, Form, FormItem, FormLabel, FormControl, FormDescription, FormMessage, FormField };\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\hover-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\input-otp.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\menubar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\navigation-menu.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":111,"column":3,"nodeType":"Identifier","messageId":"namedExport","endLine":111,"endColumn":29}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\";\nimport { cva } from \"class-variance-authority\";\nimport { ChevronDown } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\"relative z-10 flex max-w-max flex-1 items-center justify-center\", className)}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n));\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName;\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\"group flex flex-1 list-none items-center justify-center space-x-1\", className)}\n    {...props}\n  />\n));\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName;\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item;\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50\",\n);\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n));\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName;\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto\",\n      className,\n    )}\n    {...props}\n  />\n));\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName;\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link;\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className,\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n));\nNavigationMenuViewport.displayName = NavigationMenuPrimitive.Viewport.displayName;\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className,\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n));\nNavigationMenuIndicator.displayName = NavigationMenuPrimitive.Indicator.displayName;\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n};\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\pagination.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\popover.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\progress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\radio-group.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\resizable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\scroll-area.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\separator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\sidebar.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":636,"column":3,"nodeType":"Identifier","messageId":"namedExport","endLine":636,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { VariantProps, cva } from \"class-variance-authority\";\nimport { PanelLeft } from \"lucide-react\";\n\nimport { useIsMobile } from \"@/hooks/use-mobile\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Sheet, SheetContent } from \"@/components/ui/sheet\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\";\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar:state\";\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7;\nconst SIDEBAR_WIDTH = \"16rem\";\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\";\nconst SIDEBAR_WIDTH_ICON = \"3rem\";\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\";\n\ntype SidebarContext = {\n  state: \"expanded\" | \"collapsed\";\n  open: boolean;\n  setOpen: (open: boolean) => void;\n  openMobile: boolean;\n  setOpenMobile: (open: boolean) => void;\n  isMobile: boolean;\n  toggleSidebar: () => void;\n};\n\nconst SidebarContext = React.createContext<SidebarContext | null>(null);\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext);\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\");\n  }\n\n  return context;\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean;\n    open?: boolean;\n    onOpenChange?: (open: boolean) => void;\n  }\n>(({ defaultOpen = true, open: openProp, onOpenChange: setOpenProp, className, style, children, ...props }, ref) => {\n  const isMobile = useIsMobile();\n  const [openMobile, setOpenMobile] = React.useState(false);\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen);\n  const open = openProp ?? _open;\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value;\n      if (setOpenProp) {\n        setOpenProp(openState);\n      } else {\n        _setOpen(openState);\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`;\n    },\n    [setOpenProp, open],\n  );\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open);\n  }, [isMobile, setOpen, setOpenMobile]);\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === SIDEBAR_KEYBOARD_SHORTCUT && (event.metaKey || event.ctrlKey)) {\n        event.preventDefault();\n        toggleSidebar();\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [toggleSidebar]);\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\";\n\n  const contextValue = React.useMemo<SidebarContext>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar],\n  );\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\", className)}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  );\n});\nSidebarProvider.displayName = \"SidebarProvider\";\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\";\n    variant?: \"sidebar\" | \"floating\" | \"inset\";\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\";\n  }\n>(({ side = \"left\", variant = \"sidebar\", collapsible = \"offcanvas\", className, children, ...props }, ref) => {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar();\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        className={cn(\"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\", className)}\n        ref={ref}\n        {...props}\n      >\n        {children}\n      </div>\n    );\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    );\n  }\n\n  return (\n    <div\n      ref={ref}\n      className=\"group peer hidden text-sidebar-foreground md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        className={cn(\n          \"relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n            : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\",\n        )}\n      />\n      <div\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className,\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n});\nSidebar.displayName = \"Sidebar\";\n\nconst SidebarTrigger = React.forwardRef<React.ElementRef<typeof Button>, React.ComponentProps<typeof Button>>(\n  ({ className, onClick, ...props }, ref) => {\n    const { toggleSidebar } = useSidebar();\n\n    return (\n      <Button\n        ref={ref}\n        data-sidebar=\"trigger\"\n        variant=\"ghost\"\n        size=\"icon\"\n        className={cn(\"h-7 w-7\", className)}\n        onClick={(event) => {\n          onClick?.(event);\n          toggleSidebar();\n        }}\n        {...props}\n      >\n        <PanelLeft />\n        <span className=\"sr-only\">Toggle Sidebar</span>\n      </Button>\n    );\n  },\n);\nSidebarTrigger.displayName = \"SidebarTrigger\";\n\nconst SidebarRail = React.forwardRef<HTMLButtonElement, React.ComponentProps<\"button\">>(\n  ({ className, ...props }, ref) => {\n    const { toggleSidebar } = useSidebar();\n\n    return (\n      <button\n        ref={ref}\n        data-sidebar=\"rail\"\n        aria-label=\"Toggle Sidebar\"\n        tabIndex={-1}\n        onClick={toggleSidebar}\n        title=\"Toggle Sidebar\"\n        className={cn(\n          \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex\",\n          \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n          \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n          \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n          \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n          \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarRail.displayName = \"SidebarRail\";\n\nconst SidebarInset = React.forwardRef<HTMLDivElement, React.ComponentProps<\"main\">>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex min-h-svh flex-1 flex-col bg-background\",\n        \"peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarInset.displayName = \"SidebarInset\";\n\nconst SidebarInput = React.forwardRef<React.ElementRef<typeof Input>, React.ComponentProps<typeof Input>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <Input\n        ref={ref}\n        data-sidebar=\"input\"\n        className={cn(\n          \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarInput.displayName = \"SidebarInput\";\n\nconst SidebarHeader = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return <div ref={ref} data-sidebar=\"header\" className={cn(\"flex flex-col gap-2 p-2\", className)} {...props} />;\n});\nSidebarHeader.displayName = \"SidebarHeader\";\n\nconst SidebarFooter = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return <div ref={ref} data-sidebar=\"footer\" className={cn(\"flex flex-col gap-2 p-2\", className)} {...props} />;\n});\nSidebarFooter.displayName = \"SidebarFooter\";\n\nconst SidebarSeparator = React.forwardRef<React.ElementRef<typeof Separator>, React.ComponentProps<typeof Separator>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <Separator\n        ref={ref}\n        data-sidebar=\"separator\"\n        className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n        {...props}\n      />\n    );\n  },\n);\nSidebarSeparator.displayName = \"SidebarSeparator\";\n\nconst SidebarContent = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarContent.displayName = \"SidebarContent\";\n\nconst SidebarGroup = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  );\n});\nSidebarGroup.displayName = \"SidebarGroup\";\n\nconst SidebarGroupLabel = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\"> & { asChild?: boolean }>(\n  ({ className, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"div\";\n\n    return (\n      <Comp\n        ref={ref}\n        data-sidebar=\"group-label\"\n        className={cn(\n          \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n          \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\";\n\nconst SidebarGroupAction = React.forwardRef<HTMLButtonElement, React.ComponentProps<\"button\"> & { asChild?: boolean }>(\n  ({ className, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n\n    return (\n      <Comp\n        ref={ref}\n        data-sidebar=\"group-action\"\n        className={cn(\n          \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n          // Increases the hit area of the button on mobile.\n          \"after:absolute after:-inset-2 after:md:hidden\",\n          \"group-data-[collapsible=icon]:hidden\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarGroupAction.displayName = \"SidebarGroupAction\";\n\nconst SidebarGroupContent = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} data-sidebar=\"group-content\" className={cn(\"w-full text-sm\", className)} {...props} />\n  ),\n);\nSidebarGroupContent.displayName = \"SidebarGroupContent\";\n\nconst SidebarMenu = React.forwardRef<HTMLUListElement, React.ComponentProps<\"ul\">>(({ className, ...props }, ref) => (\n  <ul ref={ref} data-sidebar=\"menu\" className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)} {...props} />\n));\nSidebarMenu.displayName = \"SidebarMenu\";\n\nconst SidebarMenuItem = React.forwardRef<HTMLLIElement, React.ComponentProps<\"li\">>(({ className, ...props }, ref) => (\n  <li ref={ref} data-sidebar=\"menu-item\" className={cn(\"group/menu-item relative\", className)} {...props} />\n));\nSidebarMenuItem.displayName = \"SidebarMenuItem\";\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean;\n    isActive?: boolean;\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>;\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(({ asChild = false, isActive = false, variant = \"default\", size = \"default\", tooltip, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\";\n  const { isMobile, state } = useSidebar();\n\n  const button = (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  );\n\n  if (!tooltip) {\n    return button;\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    };\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent side=\"right\" align=\"center\" hidden={state !== \"collapsed\" || isMobile} {...tooltip} />\n    </Tooltip>\n  );\n});\nSidebarMenuButton.displayName = \"SidebarMenuButton\";\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean;\n    showOnHover?: boolean;\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuAction.displayName = \"SidebarMenuAction\";\n\nconst SidebarMenuBadge = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\";\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean;\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`;\n  }, []);\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && <Skeleton className=\"size-4 rounded-md\" data-sidebar=\"menu-skeleton-icon\" />}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  );\n});\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\";\n\nconst SidebarMenuSub = React.forwardRef<HTMLUListElement, React.ComponentProps<\"ul\">>(\n  ({ className, ...props }, ref) => (\n    <ul\n      ref={ref}\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\nSidebarMenuSub.displayName = \"SidebarMenuSub\";\n\nconst SidebarMenuSubItem = React.forwardRef<HTMLLIElement, React.ComponentProps<\"li\">>(({ ...props }, ref) => (\n  <li ref={ref} {...props} />\n));\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\";\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean;\n    size?: \"sm\" | \"md\";\n    isActive?: boolean;\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\";\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n};\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\slider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\sonner.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":27,"column":19,"nodeType":"Identifier","messageId":"namedExport","endLine":27,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useTheme } from \"next-themes\";\nimport { Toaster as Sonner, toast } from \"sonner\";\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>;\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = \"system\" } = useTheme();\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps[\"theme\"]}\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n          description: \"group-[.toast]:text-muted-foreground\",\n          actionButton: \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n          cancelButton: \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n        },\n      }}\n      {...props}\n    />\n  );\n};\n\nexport { Toaster, toast };\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\switch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\tabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\textarea.tsx","messages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An interface declaring no members is equivalent to its supertype.","line":5,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterfaceWithSuper","endLine":5,"endColumn":31,"suggestions":[{"messageId":"replaceEmptyInterfaceWithSuper","fix":{"range":[75,159],"text":"type TextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>"},"desc":"Replace empty interface with a type alias."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport interface TextareaProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className,\n      )}\n      ref={ref}\n      {...props}\n    />\n  );\n});\nTextarea.displayName = \"Textarea\";\n\nexport { Textarea };\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\toast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\toaster.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\toggle-group.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\toggle.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":37,"column":18,"nodeType":"Identifier","messageId":"namedExport","endLine":37,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline: \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3\",\n        sm: \"h-9 px-2.5\",\n        lg: \"h-11 px-5\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> & VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root ref={ref} className={cn(toggleVariants({ variant, size, className }))} {...props} />\n));\n\nToggle.displayName = TogglePrimitive.Root.displayName;\n\nexport { Toggle, toggleVariants };\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\tooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\components\\ui\\use-toast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\contexts\\AuthContext.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":171,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":171,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createContext, useContext, useEffect, useState, ReactNode } from \"react\";\nimport { User, Session } from \"@supabase/supabase-js\";\nimport { supabase } from \"@/integrations/client\";\n\ninterface Profile {\n  id: string;\n  email: string | null;\n  full_name: string | null;\n  phone: string | null;\n  avatar_url: string | null;\n  address: string | null;\n  city: string | null;\n  postal_code: string | null;\n  country: string | null;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  session: Session | null;\n  profile: Profile | null;\n  isLoading: boolean;\n  isAdmin: boolean;\n  signUp: (email: string, password: string, fullName: string) => Promise<{ error: Error | null }>;\n  signIn: (email: string, password: string) => Promise<{ error: Error | null }>;\n  signOut: () => Promise<void>;\n  updateProfile: (updates: Partial<Profile>) => Promise<{ error: Error | null }>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [session, setSession] = useState<Session | null>(null);\n  const [profile, setProfile] = useState<Profile | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isAdmin, setIsAdmin] = useState(false);\n\n  const fetchProfile = async (userId: string) => {\n    const { data, error } = await supabase\n      .from(\"profiles\")\n      .select(\"*\")\n      .eq(\"id\", userId)\n      .maybeSingle();\n\n    if (!error && data) {\n      setProfile(data);\n    }\n  };\n\n  const checkAdminRole = async (userId: string) => {\n    const { data, error } = await supabase\n      .from(\"user_roles\")\n      .select(\"role\")\n      .eq(\"user_id\", userId)\n      .eq(\"role\", \"admin\")\n      .maybeSingle();\n\n    if (!error && data) {\n      setIsAdmin(true);\n    } else {\n      setIsAdmin(false);\n    }\n  };\n\n  useEffect(() => {\n    // Set up auth state listener first\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\n      (event, session) => {\n        setSession(session);\n        setUser(session?.user ?? null);\n\n        if (session?.user) {\n          // Defer Supabase calls to avoid deadlock\n          setTimeout(() => {\n            fetchProfile(session.user.id);\n            checkAdminRole(session.user.id);\n          }, 0);\n        } else {\n          setProfile(null);\n          setIsAdmin(false);\n        }\n      }\n    );\n\n    // Then check for existing session\n    supabase.auth.getSession().then(async ({ data: { session } }) => {\n      setSession(session);\n      setUser(session?.user ?? null);\n\n      if (session?.user) {\n        await Promise.all([\n          fetchProfile(session.user.id),\n          checkAdminRole(session.user.id)\n        ]);\n      }\n\n      setIsLoading(false);\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  const signUp = async (email: string, password: string, fullName: string) => {\n    const redirectUrl = `${window.location.origin}/`;\n\n    const { error } = await supabase.auth.signUp({\n      email,\n      password,\n      options: {\n        emailRedirectTo: redirectUrl,\n        data: {\n          full_name: fullName,\n        },\n      },\n    });\n\n    return { error };\n  };\n\n  const signIn = async (email: string, password: string) => {\n    const { error } = await supabase.auth.signInWithPassword({\n      email,\n      password,\n    });\n\n    return { error };\n  };\n\n  const signOut = async () => {\n    await supabase.auth.signOut();\n    setUser(null);\n    setSession(null);\n    setProfile(null);\n    setIsAdmin(false);\n  };\n\n  const updateProfile = async (updates: Partial<Profile>) => {\n    if (!user) return { error: new Error(\"Not authenticated\") };\n\n    const { error } = await supabase\n      .from(\"profiles\")\n      .update(updates)\n      .eq(\"id\", user.id);\n\n    if (!error) {\n      setProfile((prev) => (prev ? { ...prev, ...updates } : null));\n    }\n\n    return { error };\n  };\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        session,\n        profile,\n        isLoading,\n        isAdmin,\n        signUp,\n        signIn,\n        signOut,\n        updateProfile,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\contexts\\CartContext.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":116,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":116,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createContext, useContext, useState, ReactNode } from \"react\";\n\nexport interface CartItem {\n  id: number;\n  name: string;\n  price: number;\n  image: string;\n  ownerSize: string;\n  petSize: string;\n  quantity: number;\n}\n\nexport interface WishlistItem {\n  id: number;\n  name: string;\n  price: number;\n  image: string;\n  category: string;\n}\n\ninterface CartContextType {\n  cartItems: CartItem[];\n  wishlistItems: WishlistItem[];\n  addToCart: (item: Omit<CartItem, \"quantity\">) => void;\n  removeFromCart: (id: number, ownerSize: string, petSize: string) => void;\n  updateQuantity: (id: number, ownerSize: string, petSize: string, quantity: number) => void;\n  clearCart: () => void;\n  addToWishlist: (item: WishlistItem) => void;\n  removeFromWishlist: (id: number) => void;\n  isInWishlist: (id: number) => boolean;\n  cartTotal: number;\n  cartCount: number;\n}\n\nconst CartContext = createContext<CartContextType | undefined>(undefined);\n\nexport function CartProvider({ children }: { children: ReactNode }) {\n  const [cartItems, setCartItems] = useState<CartItem[]>([]);\n  const [wishlistItems, setWishlistItems] = useState<WishlistItem[]>([]);\n\n  const addToCart = (item: Omit<CartItem, \"quantity\">) => {\n    setCartItems((prev) => {\n      const existing = prev.find(\n        (i) => i.id === item.id && i.ownerSize === item.ownerSize && i.petSize === item.petSize\n      );\n      if (existing) {\n        return prev.map((i) =>\n          i.id === item.id && i.ownerSize === item.ownerSize && i.petSize === item.petSize\n            ? { ...i, quantity: i.quantity + 1 }\n            : i\n        );\n      }\n      return [...prev, { ...item, quantity: 1 }];\n    });\n  };\n\n  const removeFromCart = (id: number, ownerSize: string, petSize: string) => {\n    setCartItems((prev) =>\n      prev.filter((i) => !(i.id === id && i.ownerSize === ownerSize && i.petSize === petSize))\n    );\n  };\n\n  const updateQuantity = (id: number, ownerSize: string, petSize: string, quantity: number) => {\n    if (quantity < 1) {\n      removeFromCart(id, ownerSize, petSize);\n      return;\n    }\n    setCartItems((prev) =>\n      prev.map((i) =>\n        i.id === id && i.ownerSize === ownerSize && i.petSize === petSize\n          ? { ...i, quantity }\n          : i\n      )\n    );\n  };\n\n  const clearCart = () => setCartItems([]);\n\n  const addToWishlist = (item: WishlistItem) => {\n    setWishlistItems((prev) => {\n      if (prev.find((i) => i.id === item.id)) return prev;\n      return [...prev, item];\n    });\n  };\n\n  const removeFromWishlist = (id: number) => {\n    setWishlistItems((prev) => prev.filter((i) => i.id !== id));\n  };\n\n  const isInWishlist = (id: number) => wishlistItems.some((i) => i.id === id);\n\n  const cartTotal = cartItems.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  const cartCount = cartItems.reduce((sum, item) => sum + item.quantity, 0);\n\n  return (\n    <CartContext.Provider\n      value={{\n        cartItems,\n        wishlistItems,\n        addToCart,\n        removeFromCart,\n        updateQuantity,\n        clearCart,\n        addToWishlist,\n        removeFromWishlist,\n        isInWishlist,\n        cartTotal,\n        cartCount,\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n}\n\nexport function useCart() {\n  const context = useContext(CartContext);\n  if (!context) {\n    throw new Error(\"useCart must be used within a CartProvider\");\n  }\n  return context;\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\use-mobile.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\use-toast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useAbandonedCarts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useAnalytics.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useAuditLogs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useBackInStock.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useBreedSizing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useCampaigns.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useCart.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useCompare.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useCoupons.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useCustomerLocations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useDeliverySLA.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useDeliverySlots.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useDynamicPricing.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useFAQs.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useFeatures.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useFitFeedback.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useFlashSales.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useGDPR.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useGallery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useHeroSlides.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useInfluencers.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useInstagramPosts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useLoyalty.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useNewsletterConfig.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useOccasions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useOrders.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":147,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":147,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3522,3525],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3522,3525],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { supabase } from \"@/integrations/client\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { toast } from \"sonner\";\n\nexport interface OrderItem {\n  id: string;\n  order_id: string;\n  product_id: string | null;\n  product_name: string;\n  product_image: string | null;\n  quantity: number;\n  size: string | null;\n  pet_size: string | null;\n  unit_price: number;\n  total_price: number;\n}\n\nexport interface ShippingAddress {\n  full_name: string;\n  firstName?: string;\n  lastName?: string;\n  address: string;\n  city: string;\n  postal_code: string;\n  postalCode?: string;\n  country: string;\n  phone: string;\n  email?: string;\n}\n\nexport interface BillingAddress {\n  full_name: string;\n  address: string;\n  city: string;\n  postal_code: string;\n  country: string;\n}\n\nexport interface Order {\n  id: string;\n  user_id: string | null;\n  order_number: string;\n  status: \"pending\" | \"confirmed\" | \"processing\" | \"shipped\" | \"delivered\" | \"cancelled\";\n  subtotal: number;\n  shipping_cost: number;\n  tax: number;\n  total: number;\n  shipping_address: ShippingAddress | null;\n  billing_address: BillingAddress | null;\n  notes: string | null;\n  created_at: string;\n  updated_at: string;\n  items?: OrderItem[];\n}\n\nexport function useOrders() {\n  const { user } = useAuth();\n\n  return useQuery({\n    queryKey: [\"orders\", user?.id],\n    queryFn: async () => {\n      if (!user) return [];\n\n      const { data, error } = await supabase\n        .from(\"orders\")\n        .select(`\n          *,\n          items:order_items(*)\n        `)\n        .eq(\"user_id\", user.id)\n        .order(\"created_at\", { ascending: false });\n\n      if (error) throw error;\n      return data as unknown as Order[];\n    },\n    enabled: !!user,\n  });\n}\n\nexport function useOrder(orderId: string) {\n  const { user } = useAuth();\n\n  return useQuery({\n    queryKey: [\"order\", orderId],\n    queryFn: async () => {\n      if (!user) return null;\n\n      const { data, error } = await supabase\n        .from(\"orders\")\n        .select(`\n          *,\n          items:order_items(*)\n        `)\n        .eq(\"id\", orderId)\n        .eq(\"user_id\", user.id)\n        .maybeSingle();\n\n      if (error) throw error;\n      return data as unknown as Order | null;\n    },\n    enabled: !!user && !!orderId,\n  });\n}\n\ninterface CreateOrderInput {\n  items: {\n    productId: string;\n    productName: string;\n    productImage: string | null;\n    quantity: number;\n    size: string | null;\n    petSize: string | null;\n    unitPrice: number;\n  }[];\n  subtotal: number;\n  shippingCost: number;\n  tax: number;\n  total: number;\n  shippingAddress: ShippingAddress;\n  billingAddress?: BillingAddress;\n  notes?: string;\n}\n\nexport function useCreateOrder() {\n  const { user } = useAuth();\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async (input: CreateOrderInput) => {\n      if (!user) throw new Error(\"Must be logged in\");\n\n      // Create order\n      const orderData = {\n        user_id: user.id,\n        subtotal: input.subtotal,\n        shipping_cost: input.shippingCost,\n        tax: input.tax,\n        total: input.total,\n        shipping_address: input.shippingAddress as unknown as Record<string, unknown>,\n        billing_address: (input.billingAddress || input.shippingAddress) as unknown as Record<string, unknown>,\n        notes: input.notes,\n      };\n\n      const { data: order, error: orderError } = await supabase\n        .from(\"orders\")\n        .insert(orderData as any)\n        .select()\n        .single();\n\n      if (orderError) throw orderError;\n\n      // Create order items\n      const orderItems = input.items.map((item) => ({\n        order_id: order.id,\n        product_id: item.productId,\n        product_name: item.productName,\n        product_image: item.productImage,\n        quantity: item.quantity,\n        size: item.size,\n        pet_size: item.petSize,\n        unit_price: item.unitPrice,\n        total_price: item.unitPrice * item.quantity,\n      }));\n\n      const { error: itemsError } = await supabase\n        .from(\"order_items\")\n        .insert(orderItems);\n\n      if (itemsError) throw itemsError;\n\n      // Clear cart\n      await supabase.from(\"cart_items\").delete().eq(\"user_id\", user.id);\n\n      return order;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"orders\"] });\n      queryClient.invalidateQueries({ queryKey: [\"cart\"] });\n      toast.success(\"Order placed successfully!\");\n    },\n    onError: () => {\n      toast.error(\"Failed to place order\");\n    },\n  });\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\usePayments.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\usePets.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useProductBundles.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useProducts.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\usePromoBanners.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\usePushNotifications.ts","messages":[{"ruleId":"@typescript-eslint/no-non-null-asserted-optional-chain","severity":2,"message":"Optional chain expressions can return undefined by design - using a non-null assertion is unsafe and wrong.","line":32,"column":17,"nodeType":"TSNonNullExpression","messageId":"noNonNullOptionalChain","endLine":32,"endColumn":47,"suggestions":[{"messageId":"suggestRemovingNonNull","fix":{"range":[1309,1310],"text":""},"desc":"You should remove the non-null assertion."}]},{"ruleId":"@typescript-eslint/no-non-null-asserted-optional-chain","severity":2,"message":"Optional chain expressions can return undefined by design - using a non-null assertion is unsafe and wrong.","line":33,"column":15,"nodeType":"TSNonNullExpression","messageId":"noNonNullOptionalChain","endLine":33,"endColumn":43,"suggestions":[{"messageId":"suggestRemovingNonNull","fix":{"range":[1353,1354],"text":""},"desc":"You should remove the non-null assertion."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { supabase } from \"@/integrations/client\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { toast } from \"sonner\";\n\nexport function usePushSubscription() {\n  const { user } = useAuth();\n  const queryClient = useQueryClient();\n\n  const subscribeToNotifications = useMutation({\n    mutationFn: async () => {\n      if (!user) throw new Error(\"Must be logged in\");\n      if (!(\"serviceWorker\" in navigator) || !(\"PushManager\" in window)) {\n        throw new Error(\"Push notifications not supported\");\n      }\n\n      const registration = await navigator.serviceWorker.ready;\n      const vapidKey = urlBase64ToUint8Array(\n        // This would be your VAPID public key - placeholder for now\n        \"BEl62iUYgUivxIkv69yViEuiBIa-Ib9-SkvMeAtA3LFgDzkrxZJjSgSnfckjBJuBkr3qBUYIHBQFLXYp5Nksh8U\"\n      );\n      const subscription = await registration.pushManager.subscribe({\n        userVisibleOnly: true,\n        applicationServerKey: vapidKey.buffer as ArrayBuffer,\n      });\n\n      const subscriptionJson = subscription.toJSON();\n\n      const { error } = await supabase.from(\"push_subscriptions\").upsert({\n        user_id: user.id,\n        endpoint: subscriptionJson.endpoint!,\n        p256dh: subscriptionJson.keys?.p256dh!,\n        auth: subscriptionJson.keys?.auth!,\n      });\n\n      if (error) throw error;\n      return subscription;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"push-subscription\"] });\n      toast.success(\"Push notifications enabled!\");\n    },\n    onError: (error) => {\n      toast.error(`Failed to enable notifications: ${error.message}`);\n    },\n  });\n\n  const unsubscribeFromNotifications = useMutation({\n    mutationFn: async () => {\n      if (!user) throw new Error(\"Must be logged in\");\n\n      const registration = await navigator.serviceWorker.ready;\n      const subscription = await registration.pushManager.getSubscription();\n\n      if (subscription) {\n        await subscription.unsubscribe();\n      }\n\n      const { error } = await supabase\n        .from(\"push_subscriptions\")\n        .delete()\n        .eq(\"user_id\", user.id);\n\n      if (error) throw error;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"push-subscription\"] });\n      toast.success(\"Push notifications disabled\");\n    },\n  });\n\n  const checkSubscription = useQuery({\n    queryKey: [\"push-subscription\", user?.id],\n    queryFn: async () => {\n      if (!user) return null;\n\n      const { data, error } = await supabase\n        .from(\"push_subscriptions\")\n        .select(\"*\")\n        .eq(\"user_id\", user.id)\n        .maybeSingle();\n\n      if (error) throw error;\n      return data;\n    },\n    enabled: !!user,\n  });\n\n  return {\n    isSubscribed: !!checkSubscription.data,\n    subscribe: subscribeToNotifications,\n    unsubscribe: unsubscribeFromNotifications,\n    isLoading: checkSubscription.isLoading,\n  };\n}\n\nfunction urlBase64ToUint8Array(base64String: string): Uint8Array {\n  const padding = \"=\".repeat((4 - (base64String.length % 4)) % 4);\n  const base64 = (base64String + padding).replace(/-/g, \"+\").replace(/_/g, \"/\");\n  const rawData = window.atob(base64);\n  const outputArray = new Uint8Array(rawData.length);\n  for (let i = 0; i < rawData.length; ++i) {\n    outputArray[i] = rawData.charCodeAt(i);\n  }\n  return outputArray;\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useRateLimiting.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useRecentlyViewed.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useReferrals.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useReturns.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useReviews.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useSatisfactionRatings.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useSavedAddresses.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useScrollAnimation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useShipmentTracking.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useSubscriptions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useSupportTickets.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useTestimonials.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useWeatherSuggestions.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\hooks\\useWishlist.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\integrations\\client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\integrations\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\About.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Admin.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.","line":123,"column":6,"nodeType":"ArrayExpression","endLine":123,"endColumn":15,"suggestions":[{"desc":"Update the dependencies array to be: [fetchData, isAdmin]","fix":{"range":[5462,5471],"text":"[fetchData, isAdmin]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":271,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":271,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10378,10381],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10378,10381],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useState, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { PageLayout } from \"@/components/layouts/PageLayout\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { supabase } from \"@/integrations/client\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { toast } from \"sonner\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Package, Users, ShoppingBag, Plus, Pencil, Trash2, Save, Upload, X, Tag, BarChart3, Image, RotateCcw, MessageCircle, ScrollText, AlertTriangle, Zap, Gift, DollarSign, ShoppingCart, Shield, Star, Truck, TrendingDown, CreditCard, PieChart, MapPin, Target, Clock, UserCheck } from \"lucide-react\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { useCollections, useCategories } from \"@/hooks/useProducts\";\nimport { CouponsManager } from \"@/components/admin/CouponsManager\";\nimport { AnalyticsDashboard } from \"@/components/admin/AnalyticsDashboard\";\nimport { GalleryManager } from \"@/components/admin/GalleryManager\";\nimport { LowStockAlerts } from \"@/components/admin/LowStockAlerts\";\nimport { ReturnsManager } from \"@/components/admin/ReturnsManager\";\nimport { SupportManager } from \"@/components/admin/SupportManager\";\nimport { AuditLogsViewer } from \"@/components/admin/AuditLogsViewer\";\nimport { FlashSalesManager } from \"@/components/admin/FlashSalesManager\";\nimport { ProductBundlesManager } from \"@/components/admin/ProductBundlesManager\";\nimport { DynamicPricingManager } from \"@/components/admin/DynamicPricingManager\";\nimport { AbandonedCartsManager } from \"@/components/admin/AbandonedCartsManager\";\nimport { GDPRRequestsManager } from \"@/components/admin/GDPRRequestsManager\";\nimport { SatisfactionDashboard } from \"@/components/admin/SatisfactionDashboard\";\nimport { RTOAnalytics } from \"@/components/admin/RTOAnalytics\";\nimport { CourierPanel } from \"@/components/admin/CourierPanel\";\nimport { PaymentReconciliation } from \"@/components/admin/PaymentReconciliation\";\nimport { RevenueDashboard } from \"@/components/admin/RevenueDashboard\";\nimport { CustomerLocationHeatmap } from \"@/components/admin/CustomerLocationHeatmap\";\nimport { DeliverySLADashboard } from \"@/components/admin/DeliverySLADashboard\";\nimport { CampaignManager } from \"@/components/admin/CampaignManager\";\nimport { InfluencerManager } from \"@/components/admin/InfluencerManager\";\nimport { ImageModerationLogs } from \"@/components/admin/ImageModerationLogs\";\nimport { RateLimitDashboard } from \"@/components/admin/RateLimitDashboard\";\nimport { HeroSlidesManager } from \"@/components/admin/HeroSlidesManager\";\nimport { PromoBannersManager } from \"@/components/admin/PromoBannersManager\";\nimport { FeaturesManager } from \"@/components/admin/FeaturesManager\";\nimport { TestimonialsManager } from \"@/components/admin/TestimonialsManager\";\nimport { NewsletterManager } from \"@/components/admin/NewsletterManager\";\nimport { InstagramManager } from \"@/components/admin/InstagramManager\";\n\ninterface Product {\n  id: string;\n  name: string;\n  slug: string;\n  price: number;\n  original_price: number | null;\n  image_url: string | null;\n  description: string | null;\n  is_active: boolean;\n  is_best_seller: boolean;\n  is_new_arrival: boolean;\n  stock: number;\n  category_id: string | null;\n  collection_id: string | null;\n  sizes: string[] | null;\n  pet_sizes: string[] | null;\n  features: string[] | null;\n  images: string[] | null;\n}\n\ninterface Order {\n  id: string;\n  order_number: string;\n  status: string;\n  total: number;\n  created_at: string;\n  user_id: string | null;\n}\n\nconst defaultSizes = [\"XS\", \"S\", \"M\", \"L\", \"XL\"];\nconst defaultPetSizes = [\"XS\", \"S\", \"M\", \"L\"];\n\nexport default function Admin() {\n  const navigate = useNavigate();\n  const { user, isAdmin, isLoading: authLoading } = useAuth();\n  const [products, setProducts] = useState<Product[]>([]);\n  const [orders, setOrders] = useState<Order[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [editingProduct, setEditingProduct] = useState<string | null>(null);\n  const [editForm, setEditForm] = useState<Partial<Product>>({});\n  const [isAddingProduct, setIsAddingProduct] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [deletingIds, setDeletingIds] = useState<Set<string>>(new Set());\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  \n  const { data: collections = [] } = useCollections();\n  const { data: categories = [] } = useCategories();\n\n  const [newProduct, setNewProduct] = useState({\n    name: \"\",\n    slug: \"\",\n    price: 0,\n    original_price: null as number | null,\n    description: \"\",\n    image_url: \"\",\n    stock: 100,\n    category_id: \"\",\n    collection_id: \"\",\n    sizes: defaultSizes,\n    pet_sizes: defaultPetSizes,\n    features: [\"Premium quality materials\", \"Matching design\", \"Machine washable\"],\n    is_active: true,\n    is_best_seller: false,\n    is_new_arrival: true,\n    images: [] as string[],\n  });\n\n  useEffect(() => {\n    if (!authLoading && (!user || !isAdmin)) {\n      navigate(\"/\");\n      toast.error(\"Access denied\", { description: \"Admin access required\" });\n    }\n  }, [user, isAdmin, authLoading, navigate]);\n\n  useEffect(() => {\n    if (isAdmin) {\n      fetchData();\n    }\n  }, [isAdmin]);\n\n  const fetchData = async () => {\n    // Only show full page loader if we have no data yet\n    if (products.length === 0) {\n      setIsLoading(true);\n    }\n    \n    const [productsRes, ordersRes] = await Promise.all([\n      supabase.from(\"products\").select(\"*\").order(\"created_at\", { ascending: false }),\n      supabase.from(\"orders\").select(\"*\").order(\"created_at\", { ascending: false }),\n    ]);\n\n    if (productsRes.data) setProducts(productsRes.data as Product[]);\n    if (ordersRes.data) setOrders(ordersRes.data as Order[]);\n    \n    setIsLoading(false);\n  };\n\n  const handleImageUpload = async (e: React.ChangeEvent<HTMLInputElement>, isEdit = false) => {\n    const files = e.target.files;\n    if (!files || files.length === 0) return;\n\n    setUploading(true);\n    const uploadedUrls: string[] = [];\n\n    for (let i = 0; i < files.length; i++) {\n        const file = files[i];\n        const fileExt = file.name.split('.').pop();\n        const fileName = `${Date.now()}-${Math.random().toString(36).substring(7)}.${fileExt}`;\n        const filePath = `products/${fileName}`;\n\n        const { error: uploadError } = await supabase.storage\n        .from('product-images')\n        .upload(filePath, file);\n\n        if (uploadError) {\n        toast.error(`Failed to upload ${file.name}`);\n        continue;\n        }\n\n        const { data: { publicUrl } } = supabase.storage\n        .from('product-images')\n        .getPublicUrl(filePath);\n        \n        uploadedUrls.push(publicUrl);\n    }\n\n    if (isEdit) {\n        // For edit mode, we append to existing images if any, or create new array\n        const currentImages = editForm.images || [];\n        // If this is the first image being uploaded and there is no main image_url, set it\n        const mainImage = editForm.image_url || uploadedUrls[0];\n        setEditForm({ \n            ...editForm, \n            images: [...currentImages, ...uploadedUrls],\n            image_url: mainImage\n        });\n    } else {\n        const currentImages = newProduct.images || [];\n        const mainImage = newProduct.image_url || uploadedUrls[0];\n        setNewProduct({ \n            ...newProduct, \n            images: [...currentImages, ...uploadedUrls],\n            image_url: mainImage \n        });\n    }\n\n    toast.success(\"Images uploaded successfully\");\n    setUploading(false);\n  };\n    \n  const removeImage = (index: number, isEdit: boolean) => {\n      if (isEdit) {\n          const currentImages = [...(editForm.images || [])];\n          const removedUrl = currentImages[index];\n          currentImages.splice(index, 1);\n          \n          // If we removed the main image, set the new first image as main, or empty if none left\n          let newMainImage = editForm.image_url;\n          if (editForm.image_url === removedUrl) {\n              newMainImage = currentImages.length > 0 ? currentImages[0] : null;\n          }\n\n          setEditForm({ ...editForm, images: currentImages, image_url: newMainImage });\n      } else {\n          const currentImages = [...(newProduct.images || [])];\n           const removedUrl = currentImages[index];\n          currentImages.splice(index, 1);\n\n           // If we removed the main image, set the new first image as main\n          let newMainImage = newProduct.image_url;\n          if (newProduct.image_url === removedUrl) {\n              newMainImage = currentImages.length > 0 ? currentImages[0] : \"\";\n          }\n\n          setNewProduct({ ...newProduct, images: currentImages, image_url: newMainImage });\n      }\n  };\n\n  const handleEdit = (product: Product) => {\n    setEditingProduct(product.id);\n    setEditForm(product);\n  };\n\n  const handleSave = async () => {\n    if (!editingProduct) return;\n\n    const { error } = await supabase\n      .from(\"products\")\n      .update({\n        name: editForm.name,\n        price: editForm.price,\n        original_price: editForm.original_price,\n        stock: editForm.stock,\n        is_active: editForm.is_active,\n        is_best_seller: editForm.is_best_seller,\n        is_new_arrival: editForm.is_new_arrival,\n        image_url: editForm.image_url,\n        images: editForm.images,\n        description: editForm.description,\n        category_id: editForm.category_id || null,\n        collection_id: editForm.collection_id || null,\n      })\n      .eq(\"id\", editingProduct);\n\n    if (error) {\n      toast.error(\"Failed to update product\");\n      return;\n    }\n\n    toast.success(\"Product updated\");\n    setEditingProduct(null);\n    fetchData();\n  };\n\n  const handleDelete = async (id: string) => {\n    // Start animation\n    setDeletingIds(prev => {\n        const next = new Set(prev);\n        next.add(id);\n        return next;\n    });\n\n    // Wait for animation to finish\n    await new Promise(resolve => setTimeout(resolve, 500));\n\n    // Use RPC function to bypass RLS and ensure deletion\n    const { error } = await supabase.rpc('delete_product_admin' as any, { product_id: id });\n\n    if (error) {\n      console.error(\"Delete error:\", error);\n      // Revert animation state on error\n      setDeletingIds(prev => {\n          const next = new Set(prev);\n          next.delete(id);\n          return next;\n      });\n      \n      if (error.message.includes('foreign key constraint')) {\n          toast.error(\"Cannot delete product because it is part of an existing order.\");\n      } else {\n          toast.error(`Failed to delete product: ${error.message}`);\n      }\n      return;\n    }\n\n    toast.success(\"Product deleted successfully\");\n    fetchData();\n  };\n\n  const handleAddProduct = async () => {\n    if (!newProduct.name || !newProduct.slug || !newProduct.price) {\n      toast.error(\"Please fill in all required fields\");\n      return;\n    }\n\n    const { error } = await supabase.from(\"products\").insert({\n      name: newProduct.name,\n      slug: newProduct.slug,\n      price: newProduct.price,\n      original_price: newProduct.original_price,\n      description: newProduct.description,\n      image_url: newProduct.image_url || null,\n      stock: newProduct.stock,\n      category_id: newProduct.category_id || null,\n      collection_id: newProduct.collection_id || null,\n      sizes: newProduct.sizes,\n      pet_sizes: newProduct.pet_sizes,\n      features: newProduct.features,\n      is_active: newProduct.is_active,\n      is_best_seller: newProduct.is_best_seller,\n      is_new_arrival: newProduct.is_new_arrival,\n      images: newProduct.images,\n    });\n\n    if (error) {\n      toast.error(\"Failed to add product\");\n      return;\n    }\n\n    toast.success(\"Product added\");\n    setIsAddingProduct(false);\n    setNewProduct({\n      name: \"\",\n      slug: \"\",\n      price: 0,\n      original_price: null,\n      description: \"\",\n      image_url: \"\",\n      stock: 100,\n      category_id: \"\",\n      collection_id: \"\",\n      sizes: defaultSizes,\n      pet_sizes: defaultPetSizes,\n      features: [\"Premium quality materials\", \"Matching design\", \"Machine washable\"],\n      is_active: true,\n      is_best_seller: false,\n      is_new_arrival: true,\n      images: [],\n    });\n    fetchData();\n  };\n\n  const handleStatusChange = async (orderId: string, newStatus: string) => {\n    const { error } = await supabase\n      .from(\"orders\")\n      .update({ status: newStatus as \"pending\" | \"confirmed\" | \"processing\" | \"shipped\" | \"delivered\" | \"cancelled\" })\n      .eq(\"id\", orderId);\n\n    if (error) {\n      toast.error(\"Failed to update order status\");\n      return;\n    }\n\n    toast.success(\"Order status updated\");\n    fetchData();\n  };\n\n  if (authLoading || isLoading) {\n    return (\n      <PageLayout showNewsletter={false}>\n        <div className=\"container mx-auto px-6 py-16\">\n          <div className=\"flex items-center justify-center\">\n            <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent\" />\n          </div>\n        </div>\n      </PageLayout>\n    );\n  }\n\n  if (!isAdmin) return null;\n\n  return (\n    <PageLayout showNewsletter={false}>\n      <div className=\"container mx-auto px-6 py-16\">\n        <div className=\"mb-8 flex items-center justify-between\">\n          <h1 className=\"font-display text-4xl font-medium\">Admin Dashboard</h1>\n          <Dialog open={isAddingProduct} onOpenChange={setIsAddingProduct}>\n            <DialogTrigger asChild>\n              <Button>\n                <Plus className=\"mr-2 h-4 w-4\" />\n                Add Product\n              </Button>\n            </DialogTrigger>\n            <DialogContent className=\"max-h-[90vh] overflow-y-auto sm:max-w-[600px]\">\n              <DialogHeader>\n                <DialogTitle>Add New Product</DialogTitle>\n              </DialogHeader>\n              <div className=\"space-y-4 py-4\">\n                <div className=\"grid gap-4 sm:grid-cols-2\">\n                  <div>\n                    <Label htmlFor=\"name\">Product Name *</Label>\n                    <Input\n                      id=\"name\"\n                      value={newProduct.name}\n                      onChange={(e) => setNewProduct({ ...newProduct, name: e.target.value })}\n                    />\n                  </div>\n                  <div>\n                    <Label htmlFor=\"slug\">Slug *</Label>\n                    <Input\n                      id=\"slug\"\n                      value={newProduct.slug}\n                      onChange={(e) => setNewProduct({ ...newProduct, slug: e.target.value })}\n                      placeholder=\"product-name\"\n                    />\n                  </div>\n                </div>\n                \n                <div className=\"grid gap-4 sm:grid-cols-2\">\n                  <div>\n                    <Label htmlFor=\"price\">Price *</Label>\n                    <Input\n                      id=\"price\"\n                      type=\"number\"\n                      value={newProduct.price}\n                      onChange={(e) => setNewProduct({ ...newProduct, price: Number(e.target.value) })}\n                    />\n                  </div>\n                  <div>\n                    <Label htmlFor=\"original_price\">Original Price</Label>\n                    <Input\n                      id=\"original_price\"\n                      type=\"number\"\n                      value={newProduct.original_price || \"\"}\n                      onChange={(e) => setNewProduct({ ...newProduct, original_price: e.target.value ? Number(e.target.value) : null })}\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <Label htmlFor=\"description\">Description</Label>\n                  <Textarea\n                    id=\"description\"\n                    value={newProduct.description}\n                    onChange={(e) => setNewProduct({ ...newProduct, description: e.target.value })}\n                  />\n                </div>\n\n                <div className=\"grid gap-4 sm:grid-cols-2\">\n                  <div>\n                    <Label htmlFor=\"collection\">Collection</Label>\n                    <select\n                      id=\"collection\"\n                      className=\"w-full rounded-md border border-input bg-background px-3 py-2 text-sm\"\n                      value={newProduct.collection_id}\n                      onChange={(e) => setNewProduct({ ...newProduct, collection_id: e.target.value })}\n                    >\n                      <option value=\"\">Select collection</option>\n                      {collections.map((c) => (\n                        <option key={c.id} value={c.id}>{c.name}</option>\n                      ))}\n                    </select>\n                  </div>\n                  <div>\n                    <Label htmlFor=\"category\">Category</Label>\n                    <select\n                      id=\"category\"\n                      className=\"w-full rounded-md border border-input bg-background px-3 py-2 text-sm\"\n                      value={newProduct.category_id}\n                      onChange={(e) => setNewProduct({ ...newProduct, category_id: e.target.value })}\n                    >\n                      <option value=\"\">Select category</option>\n                      {categories.map((c) => (\n                        <option key={c.id} value={c.id}>{c.name}</option>\n                      ))}\n                    </select>\n                  </div>\n                </div>\n\n                <div>\n                  <Label>Product Images</Label>\n                  <div className=\"mt-2 flex flex-wrap gap-4\">\n                    {newProduct.images && newProduct.images.length > 0 ? (\n                        newProduct.images.map((img, index) => (\n                            <div key={index} className=\"relative h-20 w-20 overflow-hidden rounded-lg bg-muted group\">\n                                <img src={img} alt={`Preview ${index}`} className=\"h-full w-full object-cover\" />\n                                <button\n                                onClick={() => removeImage(index, false)}\n                                className=\"absolute right-1 top-1 rounded-full bg-background p-1 opacity-100 hover:bg-destructive hover:text-destructive-foreground\"\n                                >\n                                <X className=\"h-3 w-3\" />\n                                </button>\n                                {newProduct.image_url === img && (\n                                    <div className=\"absolute bottom-0 left-0 right-0 bg-black/50 text-[10px] text-white text-center py-0.5\">\n                                        Main\n                                    </div>\n                                )}\n                            </div>\n                        ))\n                    ) : null}\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      onClick={() => fileInputRef.current?.click()}\n                      disabled={uploading}\n                    >\n                      <Upload className=\"mr-2 h-4 w-4\" />\n                      {uploading ? \"Uploading...\" : \"Upload Images\"}\n                    </Button>\n                    <input\n                      ref={fileInputRef}\n                      type=\"file\"\n                      accept=\"image/*\"\n                      multiple\n                      className=\"hidden\"\n                      onChange={(e) => handleImageUpload(e, false)}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"grid gap-4 sm:grid-cols-3\">\n                  <div>\n                    <Label htmlFor=\"stock\">Stock</Label>\n                    <Input\n                      id=\"stock\"\n                      type=\"number\"\n                      value={newProduct.stock}\n                      onChange={(e) => setNewProduct({ ...newProduct, stock: Number(e.target.value) })}\n                    />\n                  </div>\n                  <div className=\"flex items-center gap-2 pt-6\">\n                    <input\n                      type=\"checkbox\"\n                      id=\"is_best_seller\"\n                      checked={newProduct.is_best_seller}\n                      onChange={(e) => setNewProduct({ ...newProduct, is_best_seller: e.target.checked })}\n                    />\n                    <Label htmlFor=\"is_best_seller\">Best Seller</Label>\n                  </div>\n                  <div className=\"flex items-center gap-2 pt-6\">\n                    <input\n                      type=\"checkbox\"\n                      id=\"is_new_arrival\"\n                      checked={newProduct.is_new_arrival}\n                      onChange={(e) => setNewProduct({ ...newProduct, is_new_arrival: e.target.checked })}\n                    />\n                    <Label htmlFor=\"is_new_arrival\">New Arrival</Label>\n                  </div>\n                </div>\n\n                <Button onClick={handleAddProduct} className=\"w-full\">\n                  Add Product\n                </Button>\n              </div>\n            </DialogContent>\n          </Dialog>\n        </div>\n\n        <div className=\"mb-8 grid gap-4 md:grid-cols-3\">\n          <div className=\"rounded-lg border border-border bg-card p-6\">\n            <div className=\"flex items-center gap-4\">\n              <Package className=\"h-10 w-10 text-primary\" />\n              <div>\n                <p className=\"text-2xl font-bold\">{products.length}</p>\n                <p className=\"text-muted-foreground\">Products</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"rounded-lg border border-border bg-card p-6\">\n            <div className=\"flex items-center gap-4\">\n              <ShoppingBag className=\"h-10 w-10 text-primary\" />\n              <div>\n                <p className=\"text-2xl font-bold\">{orders.length}</p>\n                <p className=\"text-muted-foreground\">Orders</p>\n              </div>\n            </div>\n          </div>\n          <div className=\"rounded-lg border border-border bg-card p-6\">\n            <div className=\"flex items-center gap-4\">\n              <Users className=\"h-10 w-10 text-primary\" />\n              <div>\n                <p className=\"text-2xl font-bold\">\n                  ${orders.reduce((sum, o) => sum + o.total, 0).toFixed(0)}\n                </p>\n                <p className=\"text-muted-foreground\">Total Revenue</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <Tabs defaultValue=\"products\">\n          <TabsList className=\"flex-wrap h-auto gap-1\">\n            <TabsTrigger value=\"products\">Products</TabsTrigger>\n            <TabsTrigger value=\"hero-slides\"><Image className=\"h-3 w-3 mr-1\" />Hero Slides</TabsTrigger>\n            <TabsTrigger value=\"promo-banners\"><Zap className=\"h-3 w-3 mr-1\" />Promo Banners</TabsTrigger>\n            <TabsTrigger value=\"features\"><Star className=\"h-3 w-3 mr-1\" />Features</TabsTrigger>\n            <TabsTrigger value=\"testimonials\"><MessageCircle className=\"h-3 w-3 mr-1\" />Testimonials</TabsTrigger>\n            <TabsTrigger value=\"newsletter\"><MessageCircle className=\"h-3 w-3 mr-1\" />Newsletter</TabsTrigger>\n            <TabsTrigger value=\"instagram\"><Image className=\"h-3 w-3 mr-1\" />Instagram</TabsTrigger>\n            <TabsTrigger value=\"orders\">Orders</TabsTrigger>\n            <TabsTrigger value=\"courier\"><Truck className=\"h-3 w-3 mr-1\" />Courier</TabsTrigger>\n            <TabsTrigger value=\"sla\"><Clock className=\"h-3 w-3 mr-1\" />SLA</TabsTrigger>\n            <TabsTrigger value=\"gallery\"><Image className=\"h-3 w-3 mr-1\" />Gallery</TabsTrigger>\n            <TabsTrigger value=\"moderation\"><Shield className=\"h-3 w-3 mr-1\" />Moderation</TabsTrigger>\n            <TabsTrigger value=\"influencers\"><UserCheck className=\"h-3 w-3 mr-1\" />Influencers</TabsTrigger>\n            <TabsTrigger value=\"returns\"><RotateCcw className=\"h-3 w-3 mr-1\" />Returns</TabsTrigger>\n            <TabsTrigger value=\"rto\"><TrendingDown className=\"h-3 w-3 mr-1\" />RTO</TabsTrigger>\n            <TabsTrigger value=\"support\"><MessageCircle className=\"h-3 w-3 mr-1\" />Support</TabsTrigger>\n            <TabsTrigger value=\"coupons\"><Tag className=\"h-3 w-3 mr-1\" />Coupons</TabsTrigger>\n            <TabsTrigger value=\"flash-sales\"><Zap className=\"h-3 w-3 mr-1\" />Flash Sales</TabsTrigger>\n            <TabsTrigger value=\"bundles\"><Gift className=\"h-3 w-3 mr-1\" />Bundles</TabsTrigger>\n            <TabsTrigger value=\"pricing\"><DollarSign className=\"h-3 w-3 mr-1\" />Pricing</TabsTrigger>\n            <TabsTrigger value=\"abandoned\"><ShoppingCart className=\"h-3 w-3 mr-1\" />Abandoned</TabsTrigger>\n            <TabsTrigger value=\"stock\"><AlertTriangle className=\"h-3 w-3 mr-1\" />Stock</TabsTrigger>\n            <TabsTrigger value=\"payments\"><CreditCard className=\"h-3 w-3 mr-1\" />Payments</TabsTrigger>\n            <TabsTrigger value=\"revenue\"><PieChart className=\"h-3 w-3 mr-1\" />Revenue</TabsTrigger>\n            <TabsTrigger value=\"campaigns\"><Target className=\"h-3 w-3 mr-1\" />Campaigns</TabsTrigger>\n            <TabsTrigger value=\"analytics\"><BarChart3 className=\"h-3 w-3 mr-1\" />Analytics</TabsTrigger>\n            <TabsTrigger value=\"locations\"><MapPin className=\"h-3 w-3 mr-1\" />Locations</TabsTrigger>\n            <TabsTrigger value=\"rate-limits\"><Shield className=\"h-3 w-3 mr-1\" />Rate Limits</TabsTrigger>\n            <TabsTrigger value=\"satisfaction\"><Star className=\"h-3 w-3 mr-1\" />CSAT</TabsTrigger>\n            <TabsTrigger value=\"gdpr\"><Shield className=\"h-3 w-3 mr-1\" />GDPR</TabsTrigger>\n            <TabsTrigger value=\"logs\"><ScrollText className=\"h-3 w-3 mr-1\" />Logs</TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"products\" className=\"mt-6\">\n            <div className=\"rounded-lg border border-border\">\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead className=\"border-b border-border bg-muted/50\">\n                    <tr>\n                      <th className=\"px-4 py-3 text-left text-sm font-medium\">Product</th>\n                      <th className=\"px-4 py-3 text-left text-sm font-medium\">Price</th>\n                      <th className=\"px-4 py-3 text-left text-sm font-medium\">Stock</th>\n                      <th className=\"px-4 py-3 text-left text-sm font-medium\">Status</th>\n                      <th className=\"px-4 py-3 text-left text-sm font-medium\">Actions</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {products.map((product) => (\n                      <tr \n                        key={product.id} \n                        className={`border-b border-border transition-all duration-500 ease-in-out ${\n                            deletingIds.has(product.id) ? \"opacity-0 -translate-x-full\" : \"opacity-100\"\n                        }`}\n                      >\n                        <td className=\"px-4 py-3\">\n                          <div className=\"flex items-center gap-3\">\n                            {product.image_url && (\n                              <img\n                                src={product.image_url}\n                                alt={product.name}\n                                className=\"h-10 w-10 rounded-lg object-cover\"\n                              />\n                            )}\n                            {editingProduct === product.id ? (\n                              <Input\n                                value={editForm.name || \"\"}\n                                onChange={(e) =>\n                                  setEditForm({ ...editForm, name: e.target.value })\n                                }\n                                className=\"w-48\"\n                              />\n                            ) : (\n                              <span className=\"font-medium\">{product.name}</span>\n                            )}\n                          </div>\n                        </td>\n                        <td className=\"px-4 py-3\">\n                          {editingProduct === product.id ? (\n                            <Input\n                              type=\"number\"\n                              value={editForm.price || \"\"}\n                              onChange={(e) =>\n                                setEditForm({ ...editForm, price: Number(e.target.value) })\n                              }\n                              className=\"w-24\"\n                            />\n                          ) : (\n                            <span>${product.price}</span>\n                          )}\n                        </td>\n                        <td className=\"px-4 py-3\">\n                          {editingProduct === product.id ? (\n                            <Input\n                              type=\"number\"\n                              value={editForm.stock || \"\"}\n                              onChange={(e) =>\n                                setEditForm({ ...editForm, stock: Number(e.target.value) })\n                              }\n                              className=\"w-20\"\n                            />\n                          ) : (\n                            <span>{product.stock}</span>\n                          )}\n                        </td>\n                        <td className=\"px-4 py-3\">\n                          <span\n                            className={`inline-flex rounded-full px-2 py-1 text-xs font-medium ${\n                              product.is_active\n                                ? \"bg-green-100 text-green-800\"\n                                : \"bg-red-100 text-red-800\"\n                            }`}\n                          >\n                            {product.is_active ? \"Active\" : \"Inactive\"}\n                          </span>\n                        </td>\n                        <td className=\"px-4 py-3\">\n                          <div className=\"flex gap-2\">\n                            {editingProduct === product.id ? (\n                              <Button size=\"sm\" onClick={handleSave}>\n                                <Save className=\"h-4 w-4\" />\n                              </Button>\n                            ) : (\n                              <Button\n                                size=\"sm\"\n                                variant=\"outline\"\n                                onClick={() => handleEdit(product)}\n                              >\n                                <Pencil className=\"h-4 w-4\" />\n                              </Button>\n                            )}\n                            <Button\n                              size=\"sm\"\n                              variant=\"destructive\"\n                              onClick={() => handleDelete(product.id)}\n                            >\n                              <Trash2 className=\"h-4 w-4\" />\n                            </Button>\n                          </div>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </TabsContent>\n\n          <TabsContent value=\"hero-slides\" className=\"mt-6\">\n            <HeroSlidesManager />\n          </TabsContent>\n\n          <TabsContent value=\"promo-banners\" className=\"mt-6\">\n            <PromoBannersManager />\n          </TabsContent>\n\n          <TabsContent value=\"features\" className=\"mt-6\">\n            <FeaturesManager />\n          </TabsContent>\n\n          <TabsContent value=\"testimonials\" className=\"mt-6\">\n            <TestimonialsManager />\n          </TabsContent>\n\n          <TabsContent value=\"newsletter\" className=\"mt-6\">\n            <NewsletterManager />\n          </TabsContent>\n\n          <TabsContent value=\"instagram\" className=\"mt-6\">\n            <InstagramManager />\n          </TabsContent>\n\n          <TabsContent value=\"orders\" className=\"mt-6\">\n            <div className=\"rounded-lg border border-border\">\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead className=\"border-b border-border bg-muted/50\">\n                    <tr>\n                      <th className=\"px-4 py-3 text-left text-sm font-medium\">Order</th>\n                      <th className=\"px-4 py-3 text-left text-sm font-medium\">Date</th>\n                      <th className=\"px-4 py-3 text-left text-sm font-medium\">Total</th>\n                      <th className=\"px-4 py-3 text-left text-sm font-medium\">Status</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {orders.map((order) => (\n                      <tr key={order.id} className=\"border-b border-border\">\n                        <td className=\"px-4 py-3 font-medium\">{order.order_number}</td>\n                        <td className=\"px-4 py-3 text-muted-foreground\">\n                          {new Date(order.created_at).toLocaleDateString()}\n                        </td>\n                        <td className=\"px-4 py-3\">${order.total.toFixed(2)}</td>\n                        <td className=\"px-4 py-3\">\n                          <select\n                            value={order.status}\n                            onChange={(e) => handleStatusChange(order.id, e.target.value)}\n                            className=\"rounded-md border border-border bg-background px-2 py-1 text-sm\"\n                          >\n                            <option value=\"pending\">Pending</option>\n                            <option value=\"confirmed\">Confirmed</option>\n                            <option value=\"processing\">Processing</option>\n                            <option value=\"shipped\">Shipped</option>\n                            <option value=\"delivered\">Delivered</option>\n                            <option value=\"cancelled\">Cancelled</option>\n                          </select>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </TabsContent>\n\n          <TabsContent value=\"courier\" className=\"mt-6\">\n            <CourierPanel />\n          </TabsContent>\n\n          <TabsContent value=\"sla\" className=\"mt-6\">\n            <DeliverySLADashboard />\n          </TabsContent>\n\n          <TabsContent value=\"gallery\" className=\"mt-6\">\n            <GalleryManager />\n          </TabsContent>\n\n          <TabsContent value=\"moderation\" className=\"mt-6\">\n            <ImageModerationLogs />\n          </TabsContent>\n\n          <TabsContent value=\"influencers\" className=\"mt-6\">\n            <InfluencerManager />\n          </TabsContent>\n\n          <TabsContent value=\"returns\" className=\"mt-6\">\n            <ReturnsManager />\n          </TabsContent>\n\n          <TabsContent value=\"rto\" className=\"mt-6\">\n            <RTOAnalytics />\n          </TabsContent>\n\n          <TabsContent value=\"support\" className=\"mt-6\">\n            <SupportManager />\n          </TabsContent>\n\n          <TabsContent value=\"coupons\" className=\"mt-6\">\n            <CouponsManager />\n          </TabsContent>\n\n          <TabsContent value=\"flash-sales\" className=\"mt-6\">\n            <FlashSalesManager />\n          </TabsContent>\n\n          <TabsContent value=\"bundles\" className=\"mt-6\">\n            <ProductBundlesManager />\n          </TabsContent>\n\n          <TabsContent value=\"pricing\" className=\"mt-6\">\n            <DynamicPricingManager />\n          </TabsContent>\n\n          <TabsContent value=\"abandoned\" className=\"mt-6\">\n            <AbandonedCartsManager />\n          </TabsContent>\n\n          <TabsContent value=\"stock\" className=\"mt-6\">\n            <LowStockAlerts />\n          </TabsContent>\n\n          <TabsContent value=\"payments\" className=\"mt-6\">\n            <PaymentReconciliation />\n          </TabsContent>\n\n          <TabsContent value=\"revenue\" className=\"mt-6\">\n            <RevenueDashboard />\n          </TabsContent>\n\n          <TabsContent value=\"campaigns\" className=\"mt-6\">\n            <CampaignManager />\n          </TabsContent>\n\n          <TabsContent value=\"analytics\" className=\"mt-6\">\n            <AnalyticsDashboard />\n          </TabsContent>\n\n          <TabsContent value=\"locations\" className=\"mt-6\">\n            <CustomerLocationHeatmap />\n          </TabsContent>\n\n          <TabsContent value=\"rate-limits\" className=\"mt-6\">\n            <RateLimitDashboard />\n          </TabsContent>\n\n          <TabsContent value=\"satisfaction\" className=\"mt-6\">\n            <SatisfactionDashboard />\n          </TabsContent>\n\n          <TabsContent value=\"gdpr\" className=\"mt-6\">\n            <GDPRRequestsManager />\n          </TabsContent>\n\n          <TabsContent value=\"logs\" className=\"mt-6\">\n            <AuditLogsViewer />\n          </TabsContent>\n        </Tabs>\n      </div>\n    </PageLayout>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Cart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Checkout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Collection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Compare.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'addToCompareHook', 'compareIds.length', and 'searchParams'. Either include them or remove the dependency array.","line":33,"column":6,"nodeType":"ArrayExpression","endLine":33,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [addToCompareHook, compareIds.length, searchParams]","fix":{"range":[1317,1319],"text":"[addToCompareHook, compareIds.length, searchParams]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from \"react\";\nimport { useSearchParams, useNavigate } from \"react-router-dom\";\nimport { PageLayout } from \"@/components/layouts/PageLayout\";\nimport { useProducts } from \"@/hooks/useProducts\";\nimport { X, Plus, Check, ShoppingBag } from \"lucide-react\";\nimport { useCart } from \"@/contexts/CartContext\";\nimport { useCompare } from \"@/hooks/useCompare\";\nimport { toast } from \"sonner\";\n\nexport default function Compare() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const { data: products = [], isLoading } = useProducts();\n  const { addToCart } = useCart();\n\n  const { compareIds, addToCompare: addToCompareHook, removeFromCompare: removeFromCompareHook } = useCompare();\n  \n  // Update URL params when compareIds change\n  useEffect(() => {\n    if (compareIds.length > 0) {\n      setSearchParams({ ids: compareIds.join(\",\") }, { replace: true });\n    } else {\n      setSearchParams({}, { replace: true });\n    }\n  }, [compareIds, setSearchParams]);\n\n  // Initialize from URL if empty (optional, for sharing links)\n  useEffect(() => {\n    const urlIds = searchParams.get(\"ids\")?.split(\",\").filter(Boolean);\n    if (urlIds && urlIds.length > 0 && compareIds.length === 0) {\n       urlIds.forEach(id => addToCompareHook(id));\n    }\n  }, []); // Run once on mount\n\n  const [showSelector, setShowSelector] = useState(false);\n\n  const compareProducts = products.filter((p) => compareIds.includes(p.id));\n  const availableProducts = products.filter((p) => !compareIds.includes(p.id));\n\n  const addToCompare = (id: string) => {\n    const success = addToCompareHook(id);\n    if (!success) {\n      if (compareIds.length >= 3) {\n         toast.error(\"Maximum 3 products can be compared\");\n      }\n      return;\n    }\n    setShowSelector(false);\n  };\n\n  const removeFromCompare = (id: string) => {\n    removeFromCompareHook(id);\n  };\n\n  const handleAddToCart = (productId: string) => {\n    const product = compareProducts.find((p) => p.id === productId);\n    if (product) {\n      addToCart({\n        id: parseInt(productId.slice(0, 8), 16), // Convert UUID to number for cart\n        name: product.name,\n        price: product.price,\n        image: product.image_url || \"/placeholder.svg\",\n        ownerSize: product.sizes?.[0] || \"M\",\n        petSize: product.pet_sizes?.[0] || \"M\",\n      });\n      toast.success(\"Added to cart\");\n    }\n  };\n\n  const featureLabels = [\n    { key: \"price\", label: \"Price\" },\n    { key: \"original_price\", label: \"Original Price\" },\n    { key: \"category\", label: \"Category\" },\n    { key: \"collection\", label: \"Collection\" },\n    { key: \"sizes\", label: \"Available Sizes\" },\n    { key: \"pet_sizes\", label: \"Pet Sizes\" },\n    { key: \"features\", label: \"Features\" },\n    { key: \"stock\", label: \"In Stock\" },\n  ];\n\n  const getFeatureValue = (product: typeof compareProducts[0], key: string) => {\n    switch (key) {\n      case \"price\":\n        return `$${product.price.toFixed(2)}`;\n      case \"original_price\":\n        return product.original_price ? `$${product.original_price.toFixed(2)}` : \"\";\n      case \"category\":\n        return product.category?.name || \"\";\n      case \"collection\":\n        return product.collection?.name || \"\";\n      case \"sizes\":\n        return product.sizes?.length ? product.sizes.join(\", \") : \"\";\n      case \"pet_sizes\":\n        return product.pet_sizes?.length ? product.pet_sizes.join(\", \") : \"\";\n      case \"features\":\n        return product.features?.length ? product.features.join(\", \") : \"\";\n      case \"stock\":\n        return (product.stock ?? 0) > 0 ? (\n          <span className=\"flex items-center gap-1 text-green-600\">\n            <Check className=\"h-4 w-4\" /> In Stock\n          </span>\n        ) : (\n          <span className=\"text-red-500\">Out of Stock</span>\n        );\n      default:\n        return \"\";\n    }\n  };\n\n  return (\n    <PageLayout>\n      <section className=\"bg-muted py-12 md:py-16\">\n        <div className=\"container mx-auto px-6\">\n          <button \n            onClick={() => navigate(-1)}\n            className=\"mb-6 flex items-center gap-2 font-body text-sm text-muted-foreground hover:text-foreground transition-colors\"\n          >\n             Back\n          </button>\n          \n          <div className=\"text-center\">\n            <p className=\"mb-3 font-body text-xs uppercase tracking-[0.3em] text-muted-foreground\">\n              Compare\n            </p>\n            <h1 className=\"mb-4 font-display text-4xl md:text-5xl font-medium tracking-tight\">\n              Compare Products\n            </h1>\n            <p className=\"mx-auto max-w-xl font-body text-lg text-muted-foreground\">\n              Select up to 3 products to compare features side by side\n            </p>\n          </div>\n        </div>\n      </section>\n\n      <section className=\"py-6 md:py-8\">\n        <div className=\"container mx-auto px-6\">\n          {isLoading ? (\n            <div className=\"flex items-center justify-center py-20\">\n              <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent\" />\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full min-w-[800px] border-collapse table-fixed\">\n                <thead>\n                  <tr>\n                    <th className=\"w-[25%] border-b border-border p-4 text-left font-body text-sm font-medium text-muted-foreground\">\n                      Feature\n                    </th>\n                    {[0, 1, 2].map((index) => {\n                      const product = compareProducts[index];\n                      return (\n                        <th key={index} className=\"w-[25%] border-b border-border p-4 align-bottom\">\n                          {product ? (\n                            <div className=\"relative\">\n                              <button\n                                onClick={() => removeFromCompare(product.id)}\n                                className=\"absolute -right-2 -top-2 rounded-full bg-muted p-1 transition-colors hover:bg-destructive hover:text-destructive-foreground z-10\"\n                              >\n                                <X className=\"h-4 w-4\" />\n                              </button>\n                              <button\n                                onClick={() => navigate(`/product/${product.slug}`)}\n                                className=\"block w-full\"\n                              >\n                                <div className=\"mx-auto w-32 aspect-[3/4] mb-3 overflow-hidden bg-muted\">\n                                   <img\n                                    src={product.image_url || \"/placeholder.svg\"}\n                                    alt={product.name}\n                                    className=\"h-full w-full object-cover\"\n                                  />\n                                </div>\n                                <p className=\"font-display text-base leading-tight line-clamp-2\">{product.name}</p>\n                              </button>\n                            </div>\n                          ) : (\n                            <div className=\"h-full flex items-end justify-center pb-8\">\n                               {index === compareProducts.length && (\n                                <button\n                                  onClick={() => setShowSelector(true)}\n                                  className=\"flex h-32 w-32 flex-col items-center justify-center gap-2 border-2 border-dashed border-border transition-colors hover:border-foreground hover:bg-muted\"\n                                >\n                                  <Plus className=\"h-6 w-6 text-muted-foreground\" />\n                                  <span className=\"font-body text-xs text-muted-foreground\">\n                                    Add Product\n                                  </span>\n                                </button>\n                               )}\n                            </div>\n                          )}\n                        </th>\n                      );\n                    })}\n                  </tr>\n                </thead>\n                <tbody>\n                  {featureLabels.map((feature) => (\n                    <tr key={feature.key}>\n                      <td className=\"border-b border-border p-4 font-body text-sm font-medium\">\n                        {feature.label}\n                      </td>\n                      {[0, 1, 2].map((index) => {\n                         const product = compareProducts[index];\n                         return (\n                            <td\n                              key={index}\n                              className=\"border-b border-border p-4 text-center font-body text-sm\"\n                            >\n                              {product ? getFeatureValue(product, feature.key) : \"\"}\n                            </td>\n                         );\n                      })}\n                    </tr>\n                  ))}\n                  <tr>\n                    <td className=\"p-4\" />\n                    {[0, 1, 2].map((index) => {\n                       const product = compareProducts[index];\n                       return (\n                        <td key={index} className=\"p-4 text-center\">\n                          {product && (\n                            <button\n                              onClick={() => handleAddToCart(product.id)}\n                              className=\"inline-flex w-full justify-center items-center gap-2 bg-foreground px-4 py-3 font-body text-sm text-background transition-opacity hover:opacity-90\"\n                            >\n                              <ShoppingBag className=\"h-4 w-4\" />\n                              Add\n                            </button>\n                          )}\n                        </td>\n                       );\n                    })}\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          )}\n\n          {compareProducts.length === 0 && !isLoading && (\n            <div className=\"py-20 text-center\">\n              <p className=\"mb-4 font-display text-2xl\">No products to compare</p>\n              <p className=\"mb-6 font-body text-muted-foreground\">\n                Add products from our shop to compare them\n              </p>\n              <button\n                onClick={() => setShowSelector(true)}\n                className=\"inline-flex items-center gap-2 bg-foreground px-8 py-3 font-body text-sm text-background transition-opacity hover:opacity-90\"\n              >\n                <Plus className=\"h-4 w-4\" />\n                Add Products\n              </button>\n            </div>\n          )}\n        </div>\n      </section>\n\n      {/* Product Selector Modal */}\n      {showSelector && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm\">\n          <div className=\"w-full max-w-2xl max-h-[80vh] overflow-hidden rounded-lg border border-border bg-card shadow-xl\">\n            <div className=\"flex items-center justify-between border-b border-border p-4\">\n              <h3 className=\"font-display text-xl\">Select a Product</h3>\n              <button\n                onClick={() => setShowSelector(false)}\n                className=\"text-muted-foreground hover:text-foreground\"\n              >\n                <X className=\"h-5 w-5\" />\n              </button>\n            </div>\n            <div className=\"max-h-[60vh] overflow-y-auto p-4\">\n              <div className=\"grid grid-cols-2 gap-4 sm:grid-cols-3\">\n                {availableProducts.map((product) => (\n                  <button\n                    key={product.id}\n                    onClick={() => addToCompare(product.id)}\n                    className=\"border border-border p-3 text-left transition-colors hover:bg-muted\"\n                  >\n                    <img\n                      src={product.image_url || \"/placeholder.svg\"}\n                      alt={product.name}\n                      className=\"mb-2 aspect-square w-full object-cover\"\n                    />\n                    <p className=\"font-body text-sm font-medium line-clamp-2\">\n                      {product.name}\n                    </p>\n                    <p className=\"font-body text-sm text-muted-foreground\">\n                      ${product.price.toFixed(2)}\n                    </p>\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </PageLayout>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Contact.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Documentation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\FAQ.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Gallery.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":15,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[905,908],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[905,908],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from \"react\";\nimport { PageLayout } from \"@/components/layouts/PageLayout\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { useGalleryPosts, useCreateGalleryPost, useLikeGalleryPost, useIsPostLiked, usePetOfTheWeek } from \"@/hooks/useGallery\";\nimport { usePets } from \"@/hooks/usePets\";\nimport { useProducts } from \"@/hooks/useProducts\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { Heart, MessageCircle, Upload, Camera, Crown, Image as ImageIcon } from \"lucide-react\";\nimport { Link } from \"react-router-dom\";\n\nfunction GalleryCard({ post }: { post: any }) {\n  const { user } = useAuth();\n  const { data: isLiked } = useIsPostLiked(post.id);\n  const likeMutation = useLikeGalleryPost();\n\n  const handleLike = () => {\n    if (!user) return;\n    likeMutation.mutate(post.id);\n  };\n\n  return (\n    <div className=\"group relative overflow-hidden rounded-lg bg-card\">\n      <div className=\"aspect-square overflow-hidden\">\n        <img\n          src={post.image_url}\n          alt={post.caption || \"Pet photo\"}\n          className=\"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105\"\n        />\n      </div>\n      <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 transition-opacity group-hover:opacity-100\" />\n      <div className=\"absolute bottom-0 left-0 right-0 p-4 translate-y-full transition-transform group-hover:translate-y-0\">\n        <div className=\"flex items-center justify-between text-white\">\n          <div>\n            {post.pet?.name && (\n              <p className=\"font-medium\">{post.pet.name}</p>\n            )}\n            {post.caption && (\n              <p className=\"text-sm text-white/80 line-clamp-2\">{post.caption}</p>\n            )}\n          </div>\n          <div className=\"flex items-center gap-3\">\n            <button\n              onClick={handleLike}\n              className=\"flex items-center gap-1 text-sm\"\n              disabled={!user}\n            >\n              <Heart className={`h-5 w-5 ${isLiked ? \"fill-red-500 text-red-500\" : \"\"}`} />\n              <span>{post.likes_count}</span>\n            </button>\n          </div>\n        </div>\n        {post.product && (\n          <Link\n            to={`/product/${post.product.slug}`}\n            className=\"mt-2 inline-block text-xs text-white/70 hover:text-white\"\n          >\n            Wearing: {post.product.name}\n          </Link>\n        )}\n      </div>\n      {post.is_featured && (\n        <div className=\"absolute top-2 right-2 rounded-full bg-yellow-500 p-1.5\">\n          <Crown className=\"h-4 w-4 text-white\" />\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction UploadDialog() {\n  const { user } = useAuth();\n  const { data: pets = [] } = usePets();\n  const { data: products = [] } = useProducts();\n  const createPost = useCreateGalleryPost();\n  \n  const [open, setOpen] = useState(false);\n  const [file, setFile] = useState<File | null>(null);\n  const [preview, setPreview] = useState<string | null>(null);\n  const [petId, setPetId] = useState(\"\");\n  const [productId, setProductId] = useState(\"\");\n  const [caption, setCaption] = useState(\"\");\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const f = e.target.files?.[0];\n    if (f) {\n      setFile(f);\n      setPreview(URL.createObjectURL(f));\n    }\n  };\n\n  const handleSubmit = async () => {\n    if (!file) return;\n    \n    await createPost.mutateAsync({\n      imageFile: file,\n      petId: petId || undefined,\n      productId: productId || undefined,\n      caption: caption || undefined,\n    });\n    \n    setOpen(false);\n    setFile(null);\n    setPreview(null);\n    setPetId(\"\");\n    setProductId(\"\");\n    setCaption(\"\");\n  };\n\n  if (!user) {\n    return (\n      <Link to=\"/login\">\n        <Button variant=\"hero\">\n          <Upload className=\"mr-2 h-4 w-4\" />\n          Share Your Pet\n        </Button>\n      </Link>\n    );\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={setOpen}>\n      <DialogTrigger asChild>\n        <Button variant=\"hero\">\n          <Upload className=\"mr-2 h-4 w-4\" />\n          Share Your Pet\n        </Button>\n      </DialogTrigger>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Share a Photo</DialogTitle>\n        </DialogHeader>\n        <div className=\"space-y-4\">\n          {preview ? (\n            <div className=\"relative aspect-square overflow-hidden rounded-lg\">\n              <img src={preview} alt=\"Preview\" className=\"h-full w-full object-cover\" />\n              <button\n                onClick={() => { setFile(null); setPreview(null); }}\n                className=\"absolute top-2 right-2 rounded-full bg-black/50 p-1 text-white\"\n              >\n                \n              </button>\n            </div>\n          ) : (\n            <label className=\"flex aspect-square cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-border hover:border-primary\">\n              <Camera className=\"h-12 w-12 text-muted-foreground\" />\n              <span className=\"mt-2 text-sm text-muted-foreground\">Click to upload</span>\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={handleFileChange}\n                className=\"hidden\"\n              />\n            </label>\n          )}\n          \n          <Select value={petId} onValueChange={setPetId}>\n            <SelectTrigger>\n              <SelectValue placeholder=\"Select your pet (optional)\" />\n            </SelectTrigger>\n            <SelectContent>\n              {pets.map((pet) => (\n                <SelectItem key={pet.id} value={pet.id}>\n                  {pet.name} ({pet.species})\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n          \n          <Select value={productId} onValueChange={setProductId}>\n            <SelectTrigger>\n              <SelectValue placeholder=\"Tag a product (optional)\" />\n            </SelectTrigger>\n            <SelectContent>\n              {products.slice(0, 20).map((product) => (\n                <SelectItem key={product.id} value={product.id}>\n                  {product.name}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n          \n          <Textarea\n            value={caption}\n            onChange={(e) => setCaption(e.target.value)}\n            placeholder=\"Add a caption...\"\n            rows={3}\n          />\n          \n          <Button\n            onClick={handleSubmit}\n            disabled={!file || createPost.isPending}\n            className=\"w-full\"\n          >\n            {createPost.isPending ? \"Uploading...\" : \"Submit\"}\n          </Button>\n          \n          <p className=\"text-center text-xs text-muted-foreground\">\n            Photos are reviewed before appearing in the gallery\n          </p>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nexport default function Gallery() {\n  const { data: posts = [], isLoading } = useGalleryPosts();\n  const { data: petOfTheWeek } = usePetOfTheWeek();\n\n  return (\n    <PageLayout>\n      {/* Hero */}\n      <section className=\"bg-muted py-16\">\n        <div className=\"container mx-auto px-6 text-center\">\n          <h1 className=\"font-display text-4xl font-medium md:text-5xl\">Pet Gallery</h1>\n          <p className=\"mt-4 text-muted-foreground\">\n            See our adorable customers in their PawStyle outfits\n          </p>\n          <div className=\"mt-6\">\n            <UploadDialog />\n          </div>\n        </div>\n      </section>\n\n      {/* Pet of the Week */}\n      {petOfTheWeek?.gallery_post && (\n        <section className=\"container mx-auto px-6 py-12\">\n          <div className=\"rounded-2xl bg-gradient-to-r from-yellow-100 to-orange-100 p-8 dark:from-yellow-900/20 dark:to-orange-900/20\">\n            <div className=\"flex items-center gap-2 mb-4\">\n              <Crown className=\"h-6 w-6 text-yellow-600\" />\n              <h2 className=\"font-display text-2xl font-medium\">Pet of the Week</h2>\n            </div>\n            <div className=\"grid gap-6 md:grid-cols-2\">\n              <div className=\"aspect-square overflow-hidden rounded-lg\">\n                <img\n                  src={petOfTheWeek.gallery_post.image_url}\n                  alt=\"Pet of the week\"\n                  className=\"h-full w-full object-cover\"\n                />\n              </div>\n              <div className=\"flex flex-col justify-center\">\n                <h3 className=\"font-display text-3xl font-medium\">\n                  {petOfTheWeek.gallery_post.pet?.name || \"Featured Pet\"}\n                </h3>\n                {petOfTheWeek.gallery_post.pet?.breed && (\n                  <p className=\"mt-2 text-muted-foreground\">\n                    {petOfTheWeek.gallery_post.pet.breed}\n                  </p>\n                )}\n                {petOfTheWeek.gallery_post.caption && (\n                  <p className=\"mt-4 text-lg\">{petOfTheWeek.gallery_post.caption}</p>\n                )}\n                <div className=\"mt-4 flex items-center gap-4\">\n                  <span className=\"flex items-center gap-1\">\n                    <Heart className=\"h-5 w-5 text-red-500 fill-red-500\" />\n                    {petOfTheWeek.gallery_post.likes_count} likes\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section>\n      )}\n\n      {/* Gallery Grid */}\n      <section className=\"container mx-auto px-6 py-6 md:py-8\">\n        {isLoading ? (\n          <div className=\"flex justify-center py-12\">\n            <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent\" />\n          </div>\n        ) : posts.length === 0 ? (\n          <div className=\"py-16 text-center\">\n            <ImageIcon className=\"mx-auto h-16 w-16 text-muted-foreground\" />\n            <h3 className=\"mt-4 font-display text-xl\">No photos yet</h3>\n            <p className=\"mt-2 text-muted-foreground\">Be the first to share your pet!</p>\n          </div>\n        ) : (\n          <div className=\"grid gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4\">\n            {posts.map((post) => (\n              <GalleryCard key={post.id} post={post} />\n            ))}\n          </div>\n        )}\n      </section>\n    </PageLayout>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Login.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Loyalty.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'initLoyalty'. Either include it or remove the dependency array.","line":50,"column":6,"nodeType":"ArrayExpression","endLine":50,"endColumn":38,"suggestions":[{"desc":"Update the dependencies array to be: [user, loyaltyPoints, isLoading, initLoyalty]","fix":{"range":[1387,1419],"text":"[user, loyaltyPoints, isLoading, initLoyalty]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { PageLayout } from \"@/components/layouts/PageLayout\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport {\n  useLoyaltyPoints,\n  useLoyaltyTransactions,\n  useInitializeLoyalty,\n  TIER_THRESHOLDS,\n  TIER_BENEFITS,\n  getNextTier,\n  getPointsToNextTier,\n  pointsToDiscount,\n} from \"@/hooks/useLoyalty\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { Award, Gift, Star, TrendingUp, ArrowUp, ArrowDown, Sparkles } from \"lucide-react\";\nimport { format } from \"date-fns\";\n\nconst tierColors = {\n  bronze: \"from-amber-600 to-amber-800\",\n  silver: \"from-gray-400 to-gray-600\",\n  gold: \"from-yellow-400 to-yellow-600\",\n  platinum: \"from-purple-400 to-purple-600\",\n};\n\nconst tierIcons = {\n  bronze: \"\",\n  silver: \"\",\n  gold: \"\",\n  platinum: \"\",\n};\n\nexport default function Loyalty() {\n  const navigate = useNavigate();\n  const { user, isLoading: authLoading } = useAuth();\n  const { data: loyaltyPoints, isLoading } = useLoyaltyPoints();\n  const { data: transactions = [] } = useLoyaltyTransactions();\n  const initLoyalty = useInitializeLoyalty();\n\n  useEffect(() => {\n    if (!authLoading && !user) {\n      navigate(\"/login\");\n    }\n  }, [user, authLoading, navigate]);\n\n  useEffect(() => {\n    if (user && !loyaltyPoints && !isLoading) {\n      initLoyalty.mutate();\n    }\n  }, [user, loyaltyPoints, isLoading]);\n\n  if (authLoading || isLoading) {\n    return (\n      <PageLayout>\n        <div className=\"container mx-auto px-6 py-16 flex justify-center\">\n          <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent\" />\n        </div>\n      </PageLayout>\n    );\n  }\n\n  const points = loyaltyPoints?.points || 0;\n  const lifetimePoints = loyaltyPoints?.lifetime_points || 0;\n  const tier = loyaltyPoints?.tier || \"bronze\";\n  const nextTier = getNextTier(tier);\n  const pointsToNext = getPointsToNextTier(lifetimePoints, tier);\n  const benefits = TIER_BENEFITS[tier];\n  const discountValue = pointsToDiscount(points);\n\n  const progressToNextTier = nextTier\n    ? ((lifetimePoints - TIER_THRESHOLDS[tier]) / (TIER_THRESHOLDS[nextTier] - TIER_THRESHOLDS[tier])) * 100\n    : 100;\n\n  return (\n    <PageLayout>\n      <div className=\"container mx-auto px-6 py-16\">\n        <div className=\"mb-8\">\n          <h1 className=\"font-display text-4xl font-medium\">Loyalty Rewards</h1>\n          <p className=\"mt-2 text-muted-foreground\">Earn points on every purchase and unlock exclusive benefits</p>\n        </div>\n\n        <div className=\"grid gap-8 lg:grid-cols-3\">\n          {/* Main Points Card */}\n          <div className=\"lg:col-span-2\">\n            <div className={`rounded-2xl bg-gradient-to-br ${tierColors[tier]} p-8 text-white`}>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm opacity-80\">Available Points</p>\n                  <p className=\"font-display text-5xl font-bold\">{points.toLocaleString()}</p>\n                  <p className=\"mt-1 text-sm opacity-80\">\n                    Worth ${discountValue.toFixed(2)} in discounts\n                  </p>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"text-6xl\">{tierIcons[tier]}</div>\n                  <p className=\"mt-2 font-display text-xl font-medium capitalize\">{tier} Member</p>\n                </div>\n              </div>\n\n              {nextTier && (\n                <div className=\"mt-8\">\n                  <div className=\"flex items-center justify-between text-sm mb-2\">\n                    <span className=\"opacity-80\">Progress to {nextTier}</span>\n                    <span>{pointsToNext.toLocaleString()} points to go</span>\n                  </div>\n                  <div className=\"h-2 rounded-full bg-white/20\">\n                    <div\n                      className=\"h-full rounded-full bg-white\"\n                      style={{ width: `${Math.min(progressToNextTier, 100)}%` }}\n                    />\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Benefits */}\n            <div className=\"mt-6 grid gap-4 sm:grid-cols-2\">\n              <div className=\"rounded-lg border border-border bg-card p-6\">\n                <TrendingUp className=\"h-8 w-8 text-primary\" />\n                <h3 className=\"mt-4 font-display text-lg font-medium\">Points Multiplier</h3>\n                <p className=\"mt-1 text-3xl font-bold\">{benefits.pointsMultiplier}x</p>\n                <p className=\"mt-1 text-sm text-muted-foreground\">\n                  Earn {benefits.pointsMultiplier} points per $1 spent\n                </p>\n              </div>\n              <div className=\"rounded-lg border border-border bg-card p-6\">\n                <Gift className=\"h-8 w-8 text-primary\" />\n                <h3 className=\"mt-4 font-display text-lg font-medium\">Member Discount</h3>\n                <p className=\"mt-1 text-3xl font-bold\">{benefits.discount}%</p>\n                <p className=\"mt-1 text-sm text-muted-foreground\">\n                  Off all purchases as a {tier} member\n                </p>\n              </div>\n            </div>\n\n            {/* Transaction History */}\n            <div className=\"mt-8\">\n              <h2 className=\"font-display text-xl font-medium mb-4\">Points History</h2>\n              {transactions.length === 0 ? (\n                <div className=\"rounded-lg border border-dashed border-border p-8 text-center\">\n                  <Star className=\"mx-auto h-10 w-10 text-muted-foreground\" />\n                  <p className=\"mt-4 text-muted-foreground\">No transactions yet</p>\n                  <p className=\"text-sm text-muted-foreground\">Start shopping to earn points!</p>\n                </div>\n              ) : (\n                <div className=\"rounded-lg border border-border divide-y divide-border\">\n                  {transactions.slice(0, 10).map((tx) => (\n                    <div key={tx.id} className=\"flex items-center justify-between p-4\">\n                      <div className=\"flex items-center gap-4\">\n                        <div className={`rounded-full p-2 ${tx.points > 0 ? \"bg-green-100 text-green-600\" : \"bg-red-100 text-red-600\"}`}>\n                          {tx.points > 0 ? <ArrowUp className=\"h-4 w-4\" /> : <ArrowDown className=\"h-4 w-4\" />}\n                        </div>\n                        <div>\n                          <p className=\"font-medium capitalize\">{tx.type.replace(\"_\", \" \")}</p>\n                          <p className=\"text-sm text-muted-foreground\">{tx.description}</p>\n                        </div>\n                      </div>\n                      <div className=\"text-right\">\n                        <p className={`font-bold ${tx.points > 0 ? \"text-green-600\" : \"text-red-600\"}`}>\n                          {tx.points > 0 ? \"+\" : \"\"}{tx.points}\n                        </p>\n                        <p className=\"text-xs text-muted-foreground\">\n                          {format(new Date(tx.created_at), \"MMM d, yyyy\")}\n                        </p>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Tier Info Sidebar */}\n          <div className=\"space-y-6\">\n            <div className=\"rounded-lg border border-border bg-card p-6\">\n              <h3 className=\"font-display text-lg font-medium mb-4\">Membership Tiers</h3>\n              <div className=\"space-y-4\">\n                {([\"bronze\", \"silver\", \"gold\", \"platinum\"] as const).map((t) => (\n                  <div\n                    key={t}\n                    className={`flex items-center gap-3 rounded-lg p-3 ${\n                      t === tier ? \"bg-primary/10 border border-primary\" : \"bg-muted/50\"\n                    }`}\n                  >\n                    <span className=\"text-2xl\">{tierIcons[t]}</span>\n                    <div className=\"flex-1\">\n                      <p className=\"font-medium capitalize\">{t}</p>\n                      <p className=\"text-xs text-muted-foreground\">\n                        {TIER_THRESHOLDS[t].toLocaleString()}+ points\n                      </p>\n                    </div>\n                    <div className=\"text-right text-sm\">\n                      <p>{TIER_BENEFITS[t].pointsMultiplier}x</p>\n                      <p className=\"text-muted-foreground\">{TIER_BENEFITS[t].discount}% off</p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            <div className=\"rounded-lg border border-border bg-card p-6\">\n              <div className=\"flex items-center gap-2 mb-4\">\n                <Sparkles className=\"h-5 w-5 text-primary\" />\n                <h3 className=\"font-display text-lg font-medium\">How to Earn</h3>\n              </div>\n              <ul className=\"space-y-3 text-sm\">\n                <li className=\"flex items-center justify-between\">\n                  <span>Make a purchase</span>\n                  <span className=\"font-medium\">1 pt/$1</span>\n                </li>\n                <li className=\"flex items-center justify-between\">\n                  <span>Write a review</span>\n                  <span className=\"font-medium\">50 pts</span>\n                </li>\n                <li className=\"flex items-center justify-between\">\n                  <span>Refer a friend</span>\n                  <span className=\"font-medium\">200 pts</span>\n                </li>\n                <li className=\"flex items-center justify-between\">\n                  <span>Birthday bonus</span>\n                  <span className=\"font-medium\">100 pts</span>\n                </li>\n              </ul>\n            </div>\n\n            <div className=\"rounded-lg border border-border bg-card p-6\">\n              <div className=\"flex items-center gap-2 mb-4\">\n                <Award className=\"h-5 w-5 text-primary\" />\n                <h3 className=\"font-display text-lg font-medium\">Redeem Points</h3>\n              </div>\n              <p className=\"text-sm text-muted-foreground mb-4\">\n                Use your points at checkout for instant discounts. 100 points = $1 off.\n              </p>\n              <div className=\"text-center p-4 bg-muted rounded-lg\">\n                <p className=\"text-sm text-muted-foreground\">Your points are worth</p>\n                <p className=\"font-display text-2xl font-bold\">${discountValue.toFixed(2)}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </PageLayout>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\NotFound.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Orders.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Pets.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":22,"column":9,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":22,"endColumn":12,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[950,953],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[950,953],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":23,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":23,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[973,976],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[973,976],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { PageLayout } from \"@/components/layouts/PageLayout\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { usePets, useAddPet, useUpdatePet, useDeletePet, useSetPrimaryPet, getRecommendedSize, Pet } from \"@/hooks/usePets\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { supabase } from \"@/integrations/client\";\nimport { toast } from \"sonner\";\nimport { Plus, Pencil, Trash2, Crown, Dog, Cat, Upload, Ruler } from \"lucide-react\";\n\nconst speciesOptions = [\n  { value: \"dog\", label: \"Dog\", icon: Dog },\n  { value: \"cat\", label: \"Cat\", icon: Cat },\n];\n\n\ninterface PetFormProps {\n  form: any;\n  setForm: (form: any) => void;\n  onSubmit: () => void;\n  isSubmitting: boolean;\n  isEditing: boolean;\n  onPhotoUpload: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  uploading: boolean;\n  fileInputRef: React.RefObject<HTMLInputElement>;\n}\n\nconst PetForm = ({ \n  form, \n  setForm, \n  onSubmit, \n  isSubmitting, \n  isEditing, \n  onPhotoUpload, \n  uploading, \n  fileInputRef \n}: PetFormProps) => (\n  <div className=\"space-y-6\">\n    {/* Photo Upload */}\n    <div className=\"flex justify-center\">\n      <div className=\"relative\">\n        <div className=\"h-24 w-24 overflow-hidden rounded-full bg-muted\">\n          {form.photo_url ? (\n            <img src={form.photo_url} alt=\"\" className=\"h-full w-full object-cover\" />\n          ) : (\n            <div className=\"flex h-full w-full items-center justify-center\">\n              {form.species === \"cat\" ? <Cat className=\"h-10 w-10 text-muted-foreground\" /> : <Dog className=\"h-10 w-10 text-muted-foreground\" />}\n            </div>\n          )}\n        </div>\n        <button\n          onClick={() => fileInputRef.current?.click()}\n          className=\"absolute -bottom-1 -right-1 rounded-full bg-primary p-2 text-primary-foreground\"\n          disabled={uploading}\n        >\n          <Upload className=\"h-4 w-4\" />\n        </button>\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          accept=\"image/*\"\n          className=\"hidden\"\n          onChange={onPhotoUpload}\n        />\n      </div>\n    </div>\n\n    {/* Basic Info */}\n    <div className=\"grid gap-4 sm:grid-cols-2\">\n      <div>\n        <Label>Name *</Label>\n        <Input\n          value={form.name}\n          onChange={(e) => setForm({ ...form, name: e.target.value })}\n          placeholder=\"Pet's name\"\n        />\n      </div>\n      <div>\n        <Label>Species</Label>\n        <div className=\"flex gap-2 mt-1\">\n          {speciesOptions.map((opt) => (\n            <button\n              key={opt.value}\n              onClick={() => setForm({ ...form, species: opt.value })}\n              className={`flex-1 flex items-center justify-center gap-2 rounded-md border p-3 transition-colors ${\n                form.species === opt.value ? \"border-primary bg-primary/10\" : \"border-border\"\n              }`}\n            >\n              <opt.icon className=\"h-5 w-5\" />\n              {opt.label}\n            </button>\n          ))}\n        </div>\n      </div>\n    </div>\n\n    <div className=\"grid gap-4 sm:grid-cols-2\">\n      <div>\n        <Label>Breed</Label>\n        <Input\n          value={form.breed}\n          onChange={(e) => setForm({ ...form, breed: e.target.value })}\n          placeholder=\"e.g., Golden Retriever\"\n        />\n      </div>\n      <div>\n        <Label>Birth Date</Label>\n        <Input\n          type=\"date\"\n          value={form.birth_date}\n          onChange={(e) => setForm({ ...form, birth_date: e.target.value })}\n        />\n      </div>\n    </div>\n\n    {/* Measurements */}\n    <div className=\"border-t pt-4\">\n      <div className=\"flex items-center gap-2 mb-4\">\n        <Ruler className=\"h-5 w-5 text-muted-foreground\" />\n        <span className=\"font-medium\">Measurements (for size recommendations)</span>\n      </div>\n      <div className=\"grid gap-4 sm:grid-cols-3\">\n        <div>\n          <Label>Weight (kg)</Label>\n          <Input\n            type=\"number\"\n            step=\"0.1\"\n            value={form.weight_kg}\n            onChange={(e) => setForm({ ...form, weight_kg: e.target.value })}\n          />\n        </div>\n        <div>\n          <Label>Height (cm)</Label>\n          <Input\n            type=\"number\"\n            step=\"0.1\"\n            value={form.height_cm}\n            onChange={(e) => setForm({ ...form, height_cm: e.target.value })}\n          />\n        </div>\n        <div>\n          <Label>Length (cm)</Label>\n          <Input\n            type=\"number\"\n            step=\"0.1\"\n            value={form.length_cm}\n            onChange={(e) => setForm({ ...form, length_cm: e.target.value })}\n          />\n        </div>\n        <div>\n          <Label>Neck (cm)</Label>\n          <Input\n            type=\"number\"\n            step=\"0.1\"\n            value={form.neck_cm}\n            onChange={(e) => setForm({ ...form, neck_cm: e.target.value })}\n          />\n        </div>\n        <div>\n          <Label>Chest (cm)</Label>\n          <Input\n            type=\"number\"\n            step=\"0.1\"\n            value={form.chest_cm}\n            onChange={(e) => setForm({ ...form, chest_cm: e.target.value })}\n          />\n        </div>\n      </div>\n    </div>\n\n    <div>\n      <Label>Notes</Label>\n      <Textarea\n        value={form.notes}\n        onChange={(e) => setForm({ ...form, notes: e.target.value })}\n        placeholder=\"Any special notes about your pet...\"\n      />\n    </div>\n\n    <Button onClick={onSubmit} className=\"w-full\" disabled={isSubmitting}>\n      {isEditing ? \"Update Pet\" : \"Add Pet\"}\n    </Button>\n  </div>\n);\n\nexport default function Pets() {\n  const navigate = useNavigate();\n  const { user, isLoading: authLoading } = useAuth();\n  const { data: pets = [], isLoading } = usePets();\n  const addPet = useAddPet();\n  const updatePet = useUpdatePet();\n  const deletePet = useDeletePet();\n  const setPrimary = useSetPrimaryPet();\n  \n  const [isAddOpen, setIsAddOpen] = useState(false);\n  const [editingPet, setEditingPet] = useState<Pet | null>(null);\n  const [uploading, setUploading] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const [form, setForm] = useState({\n    name: \"\",\n    species: \"dog\",\n    breed: \"\",\n    birth_date: \"\",\n    weight_kg: \"\",\n    height_cm: \"\",\n    neck_cm: \"\",\n    chest_cm: \"\",\n    length_cm: \"\",\n    photo_url: \"\",\n    notes: \"\",\n    is_primary: false,\n  });\n\n  if (!authLoading && !user) {\n    navigate(\"/login\");\n    return null;\n  }\n\n  const resetForm = () => {\n    setForm({\n      name: \"\",\n      species: \"dog\",\n      breed: \"\",\n      birth_date: \"\",\n      weight_kg: \"\",\n      height_cm: \"\",\n      neck_cm: \"\",\n      chest_cm: \"\",\n      length_cm: \"\",\n      photo_url: \"\",\n      notes: \"\",\n      is_primary: false,\n    });\n  };\n\n  const handleEdit = (pet: Pet) => {\n    setEditingPet(pet);\n    setForm({\n      name: pet.name,\n      species: pet.species,\n      breed: pet.breed || \"\",\n      birth_date: pet.birth_date || \"\",\n      weight_kg: pet.weight_kg?.toString() || \"\",\n      height_cm: pet.height_cm?.toString() || \"\",\n      neck_cm: pet.neck_cm?.toString() || \"\",\n      chest_cm: pet.chest_cm?.toString() || \"\",\n      length_cm: pet.length_cm?.toString() || \"\",\n      photo_url: pet.photo_url || \"\",\n      notes: pet.notes || \"\",\n      is_primary: pet.is_primary,\n    });\n  };\n\n  const handlePhotoUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file || !user) return;\n\n    setUploading(true);\n    const fileExt = file.name.split(\".\").pop();\n    const fileName = `${user.id}/${Date.now()}.${fileExt}`;\n\n    const { error } = await supabase.storage\n      .from(\"pet-photos\")\n      .upload(fileName, file);\n\n    if (error) {\n      toast.error(\"Failed to upload photo\");\n      setUploading(false);\n      return;\n    }\n\n    const { data: { publicUrl } } = supabase.storage\n      .from(\"pet-photos\")\n      .getPublicUrl(fileName);\n\n    setForm({ ...form, photo_url: publicUrl });\n    setUploading(false);\n  };\n\n  const handleSubmit = async () => {\n    if (!form.name.trim()) {\n      toast.error(\"Please enter a name for your pet\");\n      return;\n    }\n\n    const petData = {\n      name: form.name,\n      species: form.species,\n      breed: form.breed || null,\n      birth_date: form.birth_date || null,\n      weight_kg: form.weight_kg ? parseFloat(form.weight_kg) : null,\n      height_cm: form.height_cm ? parseFloat(form.height_cm) : null,\n      neck_cm: form.neck_cm ? parseFloat(form.neck_cm) : null,\n      chest_cm: form.chest_cm ? parseFloat(form.chest_cm) : null,\n      length_cm: form.length_cm ? parseFloat(form.length_cm) : null,\n      photo_url: form.photo_url || null,\n      notes: form.notes || null,\n      is_primary: form.is_primary || pets.length === 0,\n    };\n\n    if (editingPet) {\n      await updatePet.mutateAsync({ id: editingPet.id, ...petData });\n      setEditingPet(null);\n    } else {\n      await addPet.mutateAsync(petData);\n      setIsAddOpen(false);\n    }\n    \n    resetForm();\n  };\n\n  const handleDelete = async (pet: Pet) => {\n    if (!confirm(`Are you sure you want to remove ${pet.name}?`)) return;\n    await deletePet.mutateAsync(pet.id);\n  };\n\n  if (authLoading || isLoading) {\n    return (\n      <PageLayout>\n        <div className=\"container mx-auto px-6 py-16 flex justify-center\">\n          <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent\" />\n        </div>\n      </PageLayout>\n    );\n  }\n\n  return (\n    <PageLayout>\n      <div className=\"container mx-auto px-6 py-16\">\n        <div className=\"mb-8 flex items-center justify-between\">\n          <div>\n            <h1 className=\"font-display text-4xl font-medium\">My Pets</h1>\n            <p className=\"mt-2 text-muted-foreground\">Manage your pet profiles for personalized recommendations</p>\n          </div>\n          <Dialog open={isAddOpen} onOpenChange={(open) => { setIsAddOpen(open); if (!open) resetForm(); }}>\n            <DialogTrigger asChild>\n              <Button>\n                <Plus className=\"mr-2 h-4 w-4\" />\n                Add Pet\n              </Button>\n            </DialogTrigger>\n            <DialogContent className=\"w-[95vw] max-w-[500px] max-h-[85vh] overflow-y-auto\">\n              <DialogHeader>\n                <DialogTitle>Add New Pet</DialogTitle>\n              </DialogHeader>\n              <PetForm \n                form={form} \n                setForm={setForm} \n                onSubmit={handleSubmit} \n                isSubmitting={addPet.isPending || updatePet.isPending}\n                isEditing={false}\n                onPhotoUpload={handlePhotoUpload}\n                uploading={uploading}\n                fileInputRef={fileInputRef}\n              />\n            </DialogContent>\n          </Dialog>\n        </div>\n\n        {pets.length === 0 ? (\n          <div className=\"rounded-lg border border-dashed border-border p-12 text-center\">\n            <Dog className=\"mx-auto h-12 w-12 text-muted-foreground\" />\n            <h3 className=\"mt-4 font-display text-xl font-medium\">No pets yet</h3>\n            <p className=\"mt-2 text-muted-foreground\">Add your first pet to get personalized size recommendations</p>\n            <Button onClick={() => setIsAddOpen(true)} className=\"mt-4\">\n              <Plus className=\"mr-2 h-4 w-4\" />\n              Add Your First Pet\n            </Button>\n          </div>\n        ) : (\n          <div className=\"grid gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n            {pets.map((pet) => {\n              const recommendedSize = getRecommendedSize(pet);\n              return (\n                <div key={pet.id} className=\"relative rounded-lg border border-border bg-card p-6\">\n                  {pet.is_primary && (\n                    <div className=\"absolute -top-3 left-4 flex items-center gap-1 rounded-full bg-primary px-3 py-1 text-xs text-primary-foreground\">\n                      <Crown className=\"h-3 w-3\" />\n                      Primary\n                    </div>\n                  )}\n                  \n                  <div className=\"flex items-start gap-4\">\n                    <div className=\"h-16 w-16 flex-shrink-0 overflow-hidden rounded-full bg-muted\">\n                      {pet.photo_url ? (\n                        <img src={pet.photo_url} alt={pet.name} className=\"h-full w-full object-cover\" />\n                      ) : (\n                        <div className=\"flex h-full w-full items-center justify-center\">\n                          {pet.species === \"cat\" ? <Cat className=\"h-8 w-8 text-muted-foreground\" /> : <Dog className=\"h-8 w-8 text-muted-foreground\" />}\n                        </div>\n                      )}\n                    </div>\n                    \n                    <div className=\"flex-1 min-w-0\">\n                      <h3 className=\"font-display text-xl font-medium\">{pet.name}</h3>\n                      <p className=\"text-sm text-muted-foreground capitalize\">\n                        {pet.breed || pet.species}\n                      </p>\n                      {recommendedSize && (\n                        <div className=\"mt-2 inline-flex items-center gap-1 rounded-full bg-accent px-3 py-1 text-xs\">\n                          <Ruler className=\"h-3 w-3\" />\n                          Recommended: Size {recommendedSize}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n\n                  {(pet.weight_kg || pet.chest_cm) && (\n                    <div className=\"mt-4 grid grid-cols-2 gap-2 text-sm text-muted-foreground\">\n                      {pet.weight_kg && <span>Weight: {pet.weight_kg} kg</span>}\n                      {pet.chest_cm && <span>Chest: {pet.chest_cm} cm</span>}\n                    </div>\n                  )}\n\n                  <div className=\"mt-4 flex gap-2\">\n                    {!pet.is_primary && (\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => setPrimary.mutate(pet.id)}\n                      >\n                        <Crown className=\"mr-1 h-3 w-3\" />\n                        Set Primary\n                      </Button>\n                    )}\n                    <Dialog open={editingPet?.id === pet.id} onOpenChange={(open) => { if (!open) { setEditingPet(null); resetForm(); } }}>\n                      <DialogTrigger asChild>\n                        <Button variant=\"outline\" size=\"sm\" onClick={() => handleEdit(pet)}>\n                          <Pencil className=\"h-3 w-3\" />\n                        </Button>\n                      </DialogTrigger>\n                      <DialogContent className=\"w-[95vw] max-w-[500px] max-h-[85vh] overflow-y-auto\">\n                        <DialogHeader>\n                          <DialogTitle>Edit {pet.name}</DialogTitle>\n                        </DialogHeader>\n                        <PetForm \n                          form={form} \n                          setForm={setForm} \n                          onSubmit={handleSubmit} \n                          isSubmitting={addPet.isPending || updatePet.isPending}\n                          isEditing={true}\n                          onPhotoUpload={handlePhotoUpload}\n                          uploading={uploading}\n                          fileInputRef={fileInputRef}\n                        />\n                      </DialogContent>\n                    </Dialog>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => handleDelete(pet)}\n                      className=\"text-destructive hover:bg-destructive hover:text-destructive-foreground\"\n                    >\n                      <Trash2 className=\"h-3 w-3\" />\n                    </Button>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    </PageLayout>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Product.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'trackView'. Either include it or remove the dependency array.","line":36,"column":6,"nodeType":"ArrayExpression","endLine":36,"endColumn":25,"suggestions":[{"desc":"Update the dependencies array to be: [product.id, trackView, user]","fix":{"range":[1753,1772],"text":"[product.id, trackView, user]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":302,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":302,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12413,12416],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12413,12416],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":303,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":303,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12472,12475],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12472,12475],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":304,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":304,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12532,12535],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12532,12535],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":305,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":305,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12593,12596],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12593,12596],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":306,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":306,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12651,12654],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12651,12654],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":307,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":307,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12702,12705],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12702,12705],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":308,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":308,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12761,12764],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12761,12764],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":309,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":309,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12825,12828],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12825,12828],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { ChevronLeft, ChevronRight, Heart, Minus, Plus, Star, Truck, Shield, RotateCcw } from \"lucide-react\";\nimport { PageLayout } from \"@/components/layouts/PageLayout\";\nimport { Button } from \"@/components/ui/button\";\nimport { useCart } from \"@/contexts/CartContext\";\nimport { useProduct, useProductsByCollection, Product as ProductType } from \"@/hooks/useProducts\";\nimport { ProductCard } from \"@/components/ProductCard\";\nimport { ProductReviews } from \"@/components/ProductReviews\";\nimport { RecentlyViewed } from \"@/components/RecentlyViewed\";\nimport { BackInStockAlert } from \"@/components/BackInStockAlert\";\nimport { SizeRecommendation } from \"@/components/SizeRecommendation\";\nimport { ProductFabricInfo } from \"@/components/ProductFabricInfo\";\nimport { useTrackProductView } from \"@/hooks/useRecentlyViewed\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { toast } from \"sonner\";\n\nexport default function Product() {\n  const { slug } = useParams<{ slug: string }>();\n  const { data: product, isLoading } = useProduct(slug || \"\");\n  const { data: collectionProducts = [] } = useProductsByCollection(product?.collection?.slug || \"\");\n  \n  const [currentImage, setCurrentImage] = useState(0);\n  const [selectedSize, setSelectedSize] = useState(\"\");\n  const [selectedPetSize, setSelectedPetSize] = useState(\"\");\n  const [quantity, setQuantity] = useState(1);\n  const { addToCart, addToWishlist, removeFromWishlist, isInWishlist } = useCart();\n  const { user } = useAuth();\n  const trackView = useTrackProductView();\n\n  // Track product view\n  useEffect(() => {\n    if (product?.id && user) {\n      trackView.mutate(product.id);\n    }\n  }, [product?.id, user]);\n\n  if (isLoading) {\n    return (\n      <PageLayout>\n        <div className=\"container mx-auto px-6 py-32 flex justify-center\">\n          <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent\" />\n        </div>\n      </PageLayout>\n    );\n  }\n\n  if (!product) {\n    return (\n      <PageLayout>\n        <div className=\"container mx-auto px-6 py-32 text-center\">\n          <h1 className=\"mb-4 font-display text-4xl\">Product Not Found</h1>\n          <Link to=\"/shop\" className=\"font-body text-muted-foreground underline\">\n            Return to Shop\n          </Link>\n        </div>\n      </PageLayout>\n    );\n  }\n\n  const images = product.images?.length ? product.images : [product.image_url || \"/product-1.jpg\"];\n  const sizes = product.sizes || [\"XS\", \"S\", \"M\", \"L\", \"XL\"];\n  const petSizes = product.pet_sizes || [\"XS\", \"S\", \"M\", \"L\"];\n  const features = product.features || [\"Premium quality materials\", \"Matching design for you and your pet\", \"Machine washable\"];\n  \n  const numericId = parseInt(product.id.replace(/-/g, '').slice(0, 8), 16);\n  const inWishlist = isInWishlist(numericId);\n  \n  const relatedProducts = collectionProducts\n    .filter((p) => p.id !== product.id)\n    .slice(0, 3);\n\n  const handleAddToCart = () => {\n    if (!selectedSize && !selectedPetSize) {\n      toast.error(\"Please select a size\", {\n        description: \"Choose either your size or your pet's size.\",\n      });\n      return;\n    }\n    for (let i = 0; i < quantity; i++) {\n      addToCart({\n        id: numericId,\n        name: product.name,\n        price: product.price,\n        image: product.image_url || \"/product-1.jpg\",\n        ownerSize: selectedSize || \"N/A\",\n        petSize: selectedPetSize || \"N/A\",\n      });\n    }\n    toast.success(\"Added to cart!\", {\n      description: `${quantity}x ${product.name}`,\n    });\n  };\n\n  const handleWishlist = () => {\n    if (inWishlist) {\n      removeFromWishlist(numericId);\n      toast.info(\"Removed from wishlist\");\n    } else {\n      addToWishlist({\n        id: numericId,\n        name: product.name,\n        price: product.price,\n        image: product.image_url || \"/product-1.jpg\",\n        category: product.category?.name || \"Fashion\",\n      });\n      toast.success(\"Added to wishlist!\");\n    }\n  };\n\n  return (\n    <PageLayout>\n      <div className=\"container mx-auto px-6 py-6 md:py-8\">\n        {/* Breadcrumb */}\n        <nav className=\"mb-8 flex items-center gap-2 font-body text-sm text-muted-foreground\">\n          <Link to=\"/\" className=\"hover:text-foreground\">Home</Link>\n          <span>/</span>\n          {product.collection && (\n            <>\n              <Link to={`/collection/${product.collection.slug}`} className=\"capitalize hover:text-foreground\">\n                {product.collection.name}\n              </Link>\n              <span>/</span>\n            </>\n          )}\n          <span className=\"text-foreground\">{product.name}</span>\n        </nav>\n\n        <div className=\"grid gap-12 lg:grid-cols-[30%_1fr]\">\n          {/* Image Gallery */}\n          <div className=\"space-y-4\">\n            <div className=\"relative aspect-square overflow-hidden bg-muted\">\n              <img\n                src={images[currentImage]}\n                alt={product.name}\n                className=\"h-full w-full object-cover\"\n              />\n              {images.length > 1 && (\n                <>\n                  <button\n                    onClick={() => setCurrentImage((prev) => (prev === 0 ? images.length - 1 : prev - 1))}\n                    className=\"absolute left-4 top-1/2 flex h-10 w-10 -translate-y-1/2 items-center justify-center bg-background/90 transition-colors hover:bg-background\"\n                  >\n                    <ChevronLeft className=\"h-5 w-5\" />\n                  </button>\n                  <button\n                    onClick={() => setCurrentImage((prev) => (prev === images.length - 1 ? 0 : prev + 1))}\n                    className=\"absolute right-4 top-1/2 flex h-10 w-10 -translate-y-1/2 items-center justify-center bg-background/90 transition-colors hover:bg-background\"\n                  >\n                    <ChevronRight className=\"h-5 w-5\" />\n                  </button>\n                </>\n              )}\n            </div>\n            <div className=\"flex gap-3\">\n              {images.map((img, idx) => (\n                <button\n                  key={idx}\n                  onClick={() => setCurrentImage(idx)}\n                  className={`aspect-square w-20 overflow-hidden border-2 transition-colors ${\n                    currentImage === idx ? \"border-foreground\" : \"border-transparent\"\n                  }`}\n                >\n                  <img src={img} alt=\"\" className=\"h-full w-full object-cover\" />\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Product Info */}\n          <div className=\"space-y-8\">\n            <div>\n              <p className=\"mb-2 font-body text-xs uppercase tracking-[0.3em] text-muted-foreground\">\n                {product.category?.name || \"Fashion\"}\n              </p>\n              <h1 className=\"mb-4 font-display text-3xl font-medium tracking-tight md:text-4xl\">\n                {product.name}\n              </h1>\n              <div className=\"mb-4 flex items-center gap-2\">\n                <div className=\"flex\">\n                  {[...Array(5)].map((_, i) => (\n                    <Star key={i} className=\"h-4 w-4 fill-foreground text-foreground\" />\n                  ))}\n                </div>\n                <span className=\"font-body text-sm text-muted-foreground\">(24 reviews)</span>\n              </div>\n              <div className=\"flex items-center gap-3\">\n                <span className=\"font-display text-2xl font-medium\">${product.price}</span>\n                {product.original_price && (\n                  <span className=\"font-body text-lg text-muted-foreground line-through\">\n                    ${product.original_price}\n                  </span>\n                )}\n              </div>\n            </div>\n\n            <p className=\"font-body text-muted-foreground leading-relaxed\">\n              {product.description || \"A beautiful matching set for you and your furry companion. Made with premium materials for comfort and style.\"}\n            </p>\n\n            {/* Size Selection */}\n            <div className=\"space-y-6\">\n              <div>\n                <label className=\"mb-3 block font-body text-xs uppercase tracking-[0.2em] text-foreground\">\n                  Your Size\n                </label>\n                <div className=\"flex flex-wrap gap-2\">\n                  {sizes.map((size) => (\n                    <button\n                      key={size}\n                      onClick={() => setSelectedSize(size)}\n                      className={`h-12 min-w-[48px] border px-4 font-body text-sm transition-colors ${\n                        selectedSize === size\n                          ? \"border-foreground bg-foreground text-background\"\n                          : \"border-border hover:border-foreground\"\n                      }`}\n                    >\n                      {size}\n                    </button>\n                  ))}\n                </div>\n              </div>\n              <div>\n                <div className=\"flex items-center justify-between mb-3\">\n                  <label className=\"font-body text-xs uppercase tracking-[0.2em] text-foreground\">\n                    Pet Size\n                  </label>\n                  <SizeRecommendation \n                    onSizeSelect={setSelectedPetSize} \n                    availableSizes={petSizes} \n                  />\n                </div>\n                <div className=\"flex flex-wrap gap-2\">\n                  {petSizes.map((size) => (\n                    <button\n                      key={size}\n                      onClick={() => setSelectedPetSize(size)}\n                      className={`h-12 min-w-[48px] border px-4 font-body text-sm transition-colors ${\n                        selectedPetSize === size\n                          ? \"border-foreground bg-foreground text-background\"\n                          : \"border-border hover:border-foreground\"\n                      }`}\n                    >\n                      {size}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            {/* Quantity & Add to Cart */}\n            <div className=\"flex flex-col gap-4 sm:flex-row\">\n              <div className=\"flex h-14 items-center border border-border\">\n                <button\n                  onClick={() => setQuantity((q) => Math.max(1, q - 1))}\n                  className=\"flex h-full w-12 items-center justify-center transition-colors hover:bg-muted\"\n                >\n                  <Minus className=\"h-4 w-4\" />\n                </button>\n                <span className=\"w-12 text-center font-body\">{quantity}</span>\n                <button\n                  onClick={() => setQuantity((q) => q + 1)}\n                  className=\"flex h-full w-12 items-center justify-center transition-colors hover:bg-muted\"\n                >\n                  <Plus className=\"h-4 w-4\" />\n                </button>\n              </div>\n              <Button onClick={handleAddToCart} variant=\"hero\" className=\"h-14 flex-1\">\n                Add to Cart\n              </Button>\n              <button\n                onClick={handleWishlist}\n                className={`flex h-14 w-14 items-center justify-center border transition-colors ${\n                  inWishlist\n                    ? \"border-destructive bg-destructive/10\"\n                    : \"border-border hover:border-foreground\"\n                }`}\n              >\n                <Heart\n                  className={`h-5 w-5 ${\n                    inWishlist ? \"fill-destructive text-destructive\" : \"text-foreground\"\n                  }`}\n                />\n              </button>\n            </div>\n\n            {/* Features */}\n            <div className=\"border-t border-border pt-8\">\n              <h3 className=\"mb-4 font-display text-lg font-medium\">Features</h3>\n              <ul className=\"space-y-2\">\n                {features.map((feature, idx) => (\n                  <li key={idx} className=\"flex items-center gap-2 font-body text-muted-foreground\">\n                    <span className=\"h-1 w-1 rounded-full bg-foreground\" />\n                    {feature}\n                  </li>\n                ))}\n              </ul>\n            </div>\n\n            {/* Fabric & Care Info */}\n            <ProductFabricInfo\n              fabricType={(product as any).fabric_type}\n              breathability={(product as any).breathability}\n              stretchLevel={(product as any).stretch_level}\n              isAllergySafe={(product as any).is_allergy_safe}\n              careWash={(product as any).care_wash}\n              careDry={(product as any).care_dry}\n              durabilityRating={(product as any).durability_rating}\n              seasonalTags={(product as any).seasonal_tags}\n            />\n\n            {/* Trust Badges */}\n            <div className=\"grid grid-cols-3 gap-4 border-t border-border pt-8\">\n              <div className=\"text-center\">\n                <Truck className=\"mx-auto mb-2 h-6 w-6 text-muted-foreground\" />\n                <p className=\"font-body text-xs text-muted-foreground\">Free Shipping</p>\n              </div>\n              <div className=\"text-center\">\n                <Shield className=\"mx-auto mb-2 h-6 w-6 text-muted-foreground\" />\n                <p className=\"font-body text-xs text-muted-foreground\">Quality Guarantee</p>\n              </div>\n              <div className=\"text-center\">\n                <RotateCcw className=\"mx-auto mb-2 h-6 w-6 text-muted-foreground\" />\n                <p className=\"font-body text-xs text-muted-foreground\">Easy Returns</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Product Reviews */}\n        <ProductReviews productId={product.id} productName={product.name} />\n\n        {/* Related Products */}\n        {relatedProducts.length > 0 && (\n          <section className=\"mt-24\">\n            <h2 className=\"mb-8 text-center font-display text-3xl font-medium\">\n              You May Also Like\n            </h2>\n            <div className=\"grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6\">\n              {relatedProducts.map((product) => (\n                <ProductCard key={product.id} product={product} />\n              ))}\n            </div>\n          </section>\n        )}\n\n        {/* Recently Viewed */}\n        <RecentlyViewed />\n      </div>\n    </PageLayout>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Referrals.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Returns.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Shop.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Signup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Subscriptions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Support.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Tracking.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\pages\\Wishlist.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\src\\vite-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\supabase\\functions\\check-rate-limit\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\supabase\\functions\\moderate-image\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\supabase\\functions\\send-email\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\tailwind.config.ts","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":139,"column":13,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":139,"endColumn":43}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./pages/**/*.{ts,tsx}\", \"./components/**/*.{ts,tsx}\", \"./app/**/*.{ts,tsx}\", \"./src/**/*.{ts,tsx}\"],\n  prefix: \"\",\n  theme: {\n    container: {\n      center: true,\n      padding: \"1.5rem\",\n      screens: {\n        \"2xl\": \"1400px\",\n      },\n    },\n    extend: {\n      fontFamily: {\n        display: ['Playfair Display', 'serif'],\n        body: ['DM Sans', 'sans-serif'],\n      },\n      colors: {\n        border: \"hsl(var(--border))\",\n        input: \"hsl(var(--input))\",\n        ring: \"hsl(var(--ring))\",\n        background: \"hsl(var(--background))\",\n        foreground: \"hsl(var(--foreground))\",\n        primary: {\n          DEFAULT: \"hsl(var(--primary))\",\n          foreground: \"hsl(var(--primary-foreground))\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary))\",\n          foreground: \"hsl(var(--secondary-foreground))\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive))\",\n          foreground: \"hsl(var(--destructive-foreground))\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted))\",\n          foreground: \"hsl(var(--muted-foreground))\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent))\",\n          foreground: \"hsl(var(--accent-foreground))\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover))\",\n          foreground: \"hsl(var(--popover-foreground))\",\n        },\n        card: {\n          DEFAULT: \"hsl(var(--card))\",\n          foreground: \"hsl(var(--card-foreground))\",\n        },\n        charcoal: \"hsl(var(--charcoal))\",\n        \"warm-grey\": \"hsl(var(--warm-grey))\",\n        \"light-grey\": \"hsl(var(--light-grey))\",\n        \"off-white\": \"hsl(var(--off-white))\",\n        sidebar: {\n          DEFAULT: \"hsl(var(--sidebar-background))\",\n          foreground: \"hsl(var(--sidebar-foreground))\",\n          primary: \"hsl(var(--sidebar-primary))\",\n          \"primary-foreground\": \"hsl(var(--sidebar-primary-foreground))\",\n          accent: \"hsl(var(--sidebar-accent))\",\n          \"accent-foreground\": \"hsl(var(--sidebar-accent-foreground))\",\n          border: \"hsl(var(--sidebar-border))\",\n          ring: \"hsl(var(--sidebar-ring))\",\n        },\n      },\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      boxShadow: {\n        'soft': 'var(--shadow-soft)',\n        'elevated': 'var(--shadow-elevated)',\n        'card': 'var(--shadow-card)',\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n        \"fade-up\": {\n          from: { opacity: \"0\", transform: \"translateY(20px)\" },\n          to: { opacity: \"1\", transform: \"translateY(0)\" },\n        },\n        \"fade-in\": {\n          from: { opacity: \"0\" },\n          to: { opacity: \"1\" },\n        },\n        \"scale-in\": {\n          from: { opacity: \"0\", transform: \"scale(0.95)\" },\n          to: { opacity: \"1\", transform: \"scale(1)\" },\n        },\n        \"slide-in-right\": {\n          from: { opacity: \"0\", transform: \"translateX(20px)\" },\n          to: { opacity: \"1\", transform: \"translateX(0)\" },\n        },\n        \"slide-in-left\": {\n          from: { opacity: \"0\", transform: \"translateX(-20px)\" },\n          to: { opacity: \"1\", transform: \"translateX(0)\" },\n        },\n        \"pulse-soft\": {\n          \"0%, 100%\": { opacity: \"1\" },\n          \"50%\": { opacity: \"0.7\" },\n        },\n        \"carousel\": {\n          \"0%\": { transform: \"translateX(0)\" },\n          \"100%\": { transform: \"translateX(-100%)\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n        \"fade-up\": \"fade-up 0.5s ease-out forwards\",\n        \"fade-in\": \"fade-in 0.3s ease-out forwards\",\n        \"scale-in\": \"scale-in 0.3s ease-out forwards\",\n        \"slide-in-right\": \"slide-in-right 0.4s ease-out forwards\",\n        \"slide-in-left\": \"slide-in-left 0.4s ease-out forwards\",\n        \"pulse-soft\": \"pulse-soft 2s ease-in-out infinite\",\n        \"carousel\": \"carousel 30s linear infinite\",\n      },\n      transitionDuration: {\n        'fast': '150ms',\n        'base': '300ms',\n        'slow': '500ms',\n      },\n      spacing: {\n        '18': '4.5rem',\n        '22': '5.5rem',\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\")],\n} satisfies Config;\n","usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\test-signup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\test-supabase-connection.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\test-supabase-live.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\verify-database-tables.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\verify-login.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"D:\\Pebric\\apps\\web\\vite.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
